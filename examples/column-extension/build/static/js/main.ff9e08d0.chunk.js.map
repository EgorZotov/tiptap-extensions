{"version":3,"sources":["components/Toolbar.tsx","components/Popover.tsx","../../../packages/column-extension/dist/bundle.es.js","components/RichTextEditor.tsx","index.tsx","data/content.ts"],"names":["Toolbar","editor","className","onClick","chain","focus","toggleBold","run","toggleItalic","toggleStrike","toggleCode","toggleHeading","level","setParagraph","toggleBulletList","toggleOrderedList","toggleCodeBlock","toggleBlockquote","setHorizontalRule","unsetColumns","setColumns","Popover","_e","r","e","t","n","childCount","i","child","s","sameMarkup","isText","text","o","content","size","nodeSize","et","a","b","l","c","f","Math","min","length","g","this","nodesBetween","max","slice","isLeaf","type","spec","leafText","isBlock","lastChild","firstChild","withText","push","cut","empty","concat","eq","RangeError","Z","toStringInner","join","map","toJSON","Array","isArray","nodeFromJSON","fromArray","attrs","de","index","offset","xe","T","excludes","rank","name","marks","create","none","sort","It","Error","y","openStart","openEnd","nt","tt","fromJSON","isolating","findIndex","maybeChild","append","replaceChild","copy","canReplace","Se","$from","$to","depth","before","after","node","indexAfter","re","schema","rules","tags","styles","forEach","tag","style","normalizeLists","some","test","nodes","contentMatch","matchType","Be","addAll","from","to","finish","maxOpen","indexOf","Nt","namespace","namespaceURI","context","matchesContext","getAttrs","charCodeAt","priority","splice","parseDOM","Fe","mark","cached","domParser","schemaRules","rt","address","article","aside","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","noscript","ol","output","p","pre","section","table","tfoot","ul","At","head","object","script","title","it","Re","whitespace","ie","_","pendingMarks","solid","options","activeMarks","stashMarks","match","fillBefore","findWrapping","matchFragment","exec","pop","allowsMarkType","Rt","isInSet","addToSet","removeFromSet","inlineContent","isInline","parentNode","hasOwnProperty","nodeName","toLowerCase","parser","isOpen","open","topNode","preserveWhitespace","topMatch","topNodeType","find","findPositions","needsBlock","nodeType","addTextNode","getAttribute","readStyles","trim","zt","top","addPendingMark","addElement","removePendingMark","nodeValue","inlineContext","replace","previousSibling","insertNode","findInText","findInside","nextSibling","appendChild","Ot","ruleFromNode","matchTag","ignore","ignoreFallback","skip","closeParent","leafFallback","sync","addElementByRule","consuming","ownerDocument","createTextNode","findPlace","matchStyle","enter","getContent","contentElement","querySelector","findAround","childNodes","findAtPoint","addDOM","enterInner","textblockFromContext","closeExtra","applyPending","topOpen","pos","currentPos","contains","compareDocumentPosition","split","parent","groups","contentMatchAt","defaultType","isTextblock","defaultAttrs","Bt","lastIndexOf","popFromStashMark","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","call","edgeCount","edge","next","ot","pow","Ft","Pe","$e","delInfo","recover","A","ranges","inverted","_map","u","d","m","JSON","stringify","pe","Object","R","stepType","prototype","jsonID","E","doc","failed","ok","fail","message","ve","F","resolve","sharedDepth","isAtom","fromReplace","P","mapResult","deleted","markFromJSON","I","structure","Me","deletedAcross","v","gapFrom","gapTo","insert","insertAt","removeBetween","$t","q","cutByIndex","startIndex","endIndex","ft","Dt","Jt","De","canReplaceWith","validEnd","W","validContent","h","fe","canAppend","Lt","nodeBefore","nodeAfter","ut","Wt","Vt","fit","start","unplaced","frontier","placed","findFittable","placeNodes","openMore","dropNode","mustMoveInline","close","end","me","compatibleContent","sliceDepth","frontierDepth","inject","wrap","K","closeFrontierNode","openFrontierNode","w","ht","allowedMarks","G","x","ge","findCloseLevel","move","allowsMarks","jt","U","__proto__","constructor","ye","k","$anchor","$head","qt","steps","mapping","replaceRange","We","deleteRange","replaceRangeWith","S","between","getBookmark","L","findFrom","N","visible","Je","Le","console","warn","near","anchor","marksAcross","ensureMarks","ue","M","Ce","selectable","isSelectable","delete","atStart","selection","setSelection","Kt","maps","Ve","bind","ee","init","apply","dt","Function","createAndFill","storedMarks","$cursor","scrolledIntoView","Q","props","key","pt","we","X","config","pluginsByKey","V","mt","gt","Yt","blockRange","tr","lift","scrollIntoView","yt","hasRequiredAttrs","wt","clearIncompatible","rn","step","kt","sn","on","ln","je","hasMarkup","setBlockType","an","cn","fn","un","hn","xt","state","transaction","applyTransaction","filterTransaction","plugins","reconfigure","navigator","platform","os","pn","rawCommands","extensionManager","commands","customState","view","buildProps","fromEntries","entries","getMeta","hasCustomState","dispatch","createChain","createCan","every","setStoredMarks","can","C","St","filter","reduce","gn","O","yn","toString","ke","wn","getPrototypeOf","Ee","keys","assign","z","defaultOptions","addOptions","storage","extend","addProseMirrorPlugins","clipboardTextSerializer","toText","xn","blockSeparator","textSerializers","range","kn","oe","strict","be","Nn","Mt","childAfter","parentOffset","childBefore","B","Pn","substring","Bn","Fn","$","$n","atEnd","Te","includes","userAgent","document","qe","window","DOMParser","parseFromString","body","le","parseOptions","fromSchema","parseSlice","parse","bt","Ie","vt","Ke","or","ar","ne","attribute","keepOnSplit","mr","Ge","Ae","wr","He","baseExtensions","nodeExtensions","markExtensions","mn","Ue","nodeAt","Qe","xr","D","he","Or","freeze","blur","requestAnimationFrame","isDestroyed","dom","getSelection","removeAllRanges","clearContent","setContent","clearNodes","setNodeMarkup","command","createParagraphNear","en","deleteNode","deleteSelection","Gt","keyboardShortcut","exitCode","code","sameParent","replaceWith","_t","extendMarkRange","first","hasFocus","insertContent","insertContentAt","updateSelection","startsWith","Vn","check","insertText","Wn","joinBackward","endOfTextblock","Ht","joinForward","Qt","Gn","KeyboardEvent","altKey","ctrlKey","metaKey","shiftKey","bubbles","cancelable","captureTransaction","someProp","maybeStep","liftEmptyBlock","tn","liftListItem","newlineInCode","Zt","resetAttributes","addMark","selectAll","setTextSelection","selectNodeBackward","Ut","selectNodeForward","Xt","selectParentNode","nn","selectTextblockEnd","selectTextblockStart","setMeta","setMark","addStoredMark","setNode","setNodeSelection","sinkListItem","dn","splitBlock","keepMarks","attributes","splittableMarks","splitListItem","J","Ne","ze","Y","Tt","toggleList","extensions","wrapInList","toggleMark","extendEmptyMarkRange","unsetMark","toggleNode","toggleWrap","wrapIn","undoInputRule","isInputRules","getState","transform","invert","docs","unsetAllMarks","removeMark","removeStoredMark","updateAttributes","addCommands","editable","handleDOMEvents","isFocused","event","addKeyboardShortcuts","textContent","Enter","Backspace","Delete","appendTransaction","docChanged","textBetween","isEditable","tabindex","j","ae","group","renderHTML","HTMLAttributes","class","Ze","ce","_$from","_$to","getFirstNode","Et","nestedColumns","columnType","error","Br","addExtensions","column","columnBlock","RichTextEditor","useEditor","StarterKit","ColumnExtension","getText","getJSON","render","id","getElementById"],"mappings":"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","file":"static/js/main.ff9e08d0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Editor } from \"@tiptap/react\";\r\nimport {\r\n  RiBold,\r\n  RiItalic,\r\n  RiStrikethrough,\r\n  RiCodeSSlashLine,\r\n  RiH1,\r\n  RiH2,\r\n  RiH3,\r\n  RiParagraph,\r\n  RiListOrdered,\r\n  RiListUnordered,\r\n  RiCodeBoxLine,\r\n  RiDoubleQuotesL,\r\n  RiSeparator,\r\n} from \"react-icons/ri\";\r\nimport {\r\n  BsLayoutThreeColumns\r\n} from \"react-icons/bs\";\r\nimport {\r\n  TbLayoutOff\r\n} from \"react-icons/tb\";\r\n\r\nimport \"./Toolbar.scss\";\r\n\r\ntype ToolbarProps = {\r\n  editor: Editor;\r\n};\r\n\r\nfunction Toolbar({ editor }: ToolbarProps) {\r\n  return (\r\n    <div\r\n      className={\"ToolbarContainer\"}\r\n    >\r\n      <div className=\"Toolbar\">\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().toggleBold().run()}\r\n        >\r\n          <RiBold />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().toggleItalic().run()}\r\n        >\r\n          <RiItalic />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().toggleStrike().run()}\r\n        >\r\n          <RiStrikethrough />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().toggleCode().run()}\r\n        >\r\n          <RiCodeSSlashLine />\r\n        </div>\r\n        <div className=\"divider\"></div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() =>\r\n            editor.chain().focus().toggleHeading({ level: 1 }).run()\r\n          }\r\n        >\r\n          <RiH1 />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() =>\r\n            editor.chain().focus().toggleHeading({ level: 2 }).run()\r\n          }\r\n        >\r\n          <RiH2 />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() =>\r\n            editor.chain().focus().toggleHeading({ level: 3 }).run()\r\n          }\r\n        >\r\n          <RiH3 />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().setParagraph().run()}\r\n        >\r\n          <RiParagraph />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().toggleBulletList().run()}\r\n        >\r\n          <RiListOrdered />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().toggleOrderedList().run()}\r\n        >\r\n          <RiListUnordered />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().toggleCodeBlock().run()}\r\n        >\r\n          <RiCodeBoxLine />\r\n        </div>\r\n        <div className=\"divider\"></div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().toggleBlockquote().run()}\r\n        >\r\n          <RiDoubleQuotesL />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().setHorizontalRule().run()}\r\n        >\r\n          <RiSeparator />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().unsetColumns().run()}\r\n        >\r\n          <TbLayoutOff />\r\n        </div>\r\n        <div\r\n          className=\"icon\"\r\n          onClick={() => editor.chain().focus().setColumns(3).run()}\r\n        >\r\n          <BsLayoutThreeColumns />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Toolbar };\r\n","import React from \"react\";\r\nimport { BubbleMenu, Editor } from \"@tiptap/react\";\r\nimport {\r\n  RiBold,\r\n  RiItalic,\r\n  RiStrikethrough,\r\n  RiH1,\r\n  RiH2,\r\n  RiCodeSSlashLine,\r\n} from \"react-icons/ri\";\r\nimport {\r\n  TbLayoutOff\r\n} from \"react-icons/tb\";\r\nimport {\r\n  BsLayoutThreeColumns\r\n} from \"react-icons/bs\";\r\n\r\nimport \"./Popover.scss\";\r\n\r\ntype PopoverProps = {\r\n  editor: Editor;\r\n};\r\n\r\nfunction Popover({ editor }: PopoverProps) {\r\n  return (\r\n    <BubbleMenu className=\"Popover\" editor={editor}>\r\n      <div\r\n        className=\"icon\"\r\n        onClick={() => editor.chain().focus().toggleBold().run()}\r\n      >\r\n        <RiBold />\r\n      </div>\r\n      <div\r\n        className=\"icon\"\r\n        onClick={() => editor.chain().focus().toggleItalic().run()}\r\n      >\r\n        <RiItalic />\r\n      </div>\r\n      <div\r\n        className=\"icon\"\r\n        onClick={() => editor.chain().focus().toggleStrike().run()}\r\n      >\r\n        <RiStrikethrough />\r\n      </div>\r\n      <div\r\n        className=\"icon\"\r\n        onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}\r\n      >\r\n        <RiH1 />\r\n      </div>\r\n      <div\r\n        className=\"icon\"\r\n        onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\r\n      >\r\n        <RiH2 />\r\n      </div>\r\n      <div\r\n        className=\"icon\"\r\n        onClick={() => editor.chain().focus().toggleCode().run()}\r\n      >\r\n        <RiCodeSSlashLine />\r\n      </div>\r\n    <div\r\n        className=\"icon\"\r\n        onClick={() => editor.chain().focus().unsetColumns().run()}\r\n    >\r\n        <TbLayoutOff />\r\n    </div>\r\n    <div\r\n        className=\"icon\"\r\n        onClick={() => editor.chain().focus().setColumns(3).run()}\r\n    >\r\n        <BsLayoutThreeColumns />\r\n    </div>\r\n    </BubbleMenu>\r\n  );\r\n}\r\n\r\nexport { Popover };\r\n","function _e(r, e, t) {\n  for (let n = 0; ; n++) {\n    if (n == r.childCount || n == e.childCount)\n      return r.childCount == e.childCount ? null : t;\n    let i = r.child(n), s = e.child(n);\n    if (i == s) {\n      t += i.nodeSize;\n      continue;\n    }\n    if (!i.sameMarkup(s))\n      return t;\n    if (i.isText && i.text != s.text) {\n      for (let o = 0; i.text[o] == s.text[o]; o++)\n        t++;\n      return t;\n    }\n    if (i.content.size || s.content.size) {\n      let o = _e(i.content, s.content, t + 1);\n      if (o != null)\n        return o;\n    }\n    t += i.nodeSize;\n  }\n}\nfunction et(r, e, t, n) {\n  for (let i = r.childCount, s = e.childCount; ; ) {\n    if (i == 0 || s == 0)\n      return i == s ? null : { a: t, b: n };\n    let o = r.child(--i), l = e.child(--s), a = o.nodeSize;\n    if (o == l) {\n      t -= a, n -= a;\n      continue;\n    }\n    if (!o.sameMarkup(l))\n      return { a: t, b: n };\n    if (o.isText && o.text != l.text) {\n      let c = 0, f = Math.min(o.text.length, l.text.length);\n      for (; c < f && o.text[o.text.length - c - 1] == l.text[l.text.length - c - 1]; )\n        c++, t--, n--;\n      return { a: t, b: n };\n    }\n    if (o.content.size || l.content.size) {\n      let c = et(o.content, l.content, t - 1, n - 1);\n      if (c)\n        return c;\n    }\n    t -= a, n -= a;\n  }\n}\nclass g {\n  constructor(e, t) {\n    if (this.content = e, this.size = t || 0, t == null)\n      for (let n = 0; n < e.length; n++)\n        this.size += e[n].nodeSize;\n  }\n  nodesBetween(e, t, n, i = 0, s) {\n    for (let o = 0, l = 0; l < t; o++) {\n      let a = this.content[o], c = l + a.nodeSize;\n      if (c > e && n(a, i + l, s || null, o) !== !1 && a.content.size) {\n        let f = l + 1;\n        a.nodesBetween(Math.max(0, e - f), Math.min(a.content.size, t - f), n, i + f);\n      }\n      l = c;\n    }\n  }\n  descendants(e) {\n    this.nodesBetween(0, this.size, e);\n  }\n  textBetween(e, t, n, i) {\n    let s = \"\", o = !0;\n    return this.nodesBetween(e, t, (l, a) => {\n      l.isText ? (s += l.text.slice(Math.max(e, a) - a, t - a), o = !n) : l.isLeaf ? (i ? s += typeof i == \"function\" ? i(l) : i : l.type.spec.leafText && (s += l.type.spec.leafText(l)), o = !n) : !o && l.isBlock && (s += n, o = !0);\n    }, 0), s;\n  }\n  append(e) {\n    if (!e.size)\n      return this;\n    if (!this.size)\n      return e;\n    let t = this.lastChild, n = e.firstChild, i = this.content.slice(), s = 0;\n    for (t.isText && t.sameMarkup(n) && (i[i.length - 1] = t.withText(t.text + n.text), s = 1); s < e.content.length; s++)\n      i.push(e.content[s]);\n    return new g(i, this.size + e.size);\n  }\n  cut(e, t = this.size) {\n    if (e == 0 && t == this.size)\n      return this;\n    let n = [], i = 0;\n    if (t > e)\n      for (let s = 0, o = 0; o < t; s++) {\n        let l = this.content[s], a = o + l.nodeSize;\n        a > e && ((o < e || a > t) && (l.isText ? l = l.cut(Math.max(0, e - o), Math.min(l.text.length, t - o)) : l = l.cut(Math.max(0, e - o - 1), Math.min(l.content.size, t - o - 1))), n.push(l), i += l.nodeSize), o = a;\n      }\n    return new g(n, i);\n  }\n  cutByIndex(e, t) {\n    return e == t ? g.empty : e == 0 && t == this.content.length ? this : new g(this.content.slice(e, t));\n  }\n  replaceChild(e, t) {\n    let n = this.content[e];\n    if (n == t)\n      return this;\n    let i = this.content.slice(), s = this.size + t.nodeSize - n.nodeSize;\n    return i[e] = t, new g(i, s);\n  }\n  addToStart(e) {\n    return new g([e].concat(this.content), this.size + e.nodeSize);\n  }\n  addToEnd(e) {\n    return new g(this.content.concat(e), this.size + e.nodeSize);\n  }\n  eq(e) {\n    if (this.content.length != e.content.length)\n      return !1;\n    for (let t = 0; t < this.content.length; t++)\n      if (!this.content[t].eq(e.content[t]))\n        return !1;\n    return !0;\n  }\n  get firstChild() {\n    return this.content.length ? this.content[0] : null;\n  }\n  get lastChild() {\n    return this.content.length ? this.content[this.content.length - 1] : null;\n  }\n  get childCount() {\n    return this.content.length;\n  }\n  child(e) {\n    let t = this.content[e];\n    if (!t)\n      throw new RangeError(\"Index \" + e + \" out of range for \" + this);\n    return t;\n  }\n  maybeChild(e) {\n    return this.content[e] || null;\n  }\n  forEach(e) {\n    for (let t = 0, n = 0; t < this.content.length; t++) {\n      let i = this.content[t];\n      e(i, n, t), n += i.nodeSize;\n    }\n  }\n  findDiffStart(e, t = 0) {\n    return _e(this, e, t);\n  }\n  findDiffEnd(e, t = this.size, n = e.size) {\n    return et(this, e, t, n);\n  }\n  findIndex(e, t = -1) {\n    if (e == 0)\n      return Z(0, e);\n    if (e == this.size)\n      return Z(this.content.length, e);\n    if (e > this.size || e < 0)\n      throw new RangeError(`Position ${e} outside of fragment (${this})`);\n    for (let n = 0, i = 0; ; n++) {\n      let s = this.child(n), o = i + s.nodeSize;\n      if (o >= e)\n        return o == e || t > 0 ? Z(n + 1, o) : Z(n, i);\n      i = o;\n    }\n  }\n  toString() {\n    return \"<\" + this.toStringInner() + \">\";\n  }\n  toStringInner() {\n    return this.content.join(\", \");\n  }\n  toJSON() {\n    return this.content.length ? this.content.map((e) => e.toJSON()) : null;\n  }\n  static fromJSON(e, t) {\n    if (!t)\n      return g.empty;\n    if (!Array.isArray(t))\n      throw new RangeError(\"Invalid input for Fragment.fromJSON\");\n    return new g(t.map(e.nodeFromJSON));\n  }\n  static fromArray(e) {\n    if (!e.length)\n      return g.empty;\n    let t, n = 0;\n    for (let i = 0; i < e.length; i++) {\n      let s = e[i];\n      n += s.nodeSize, i && s.isText && e[i - 1].sameMarkup(s) ? (t || (t = e.slice(0, i)), t[t.length - 1] = s.withText(t[t.length - 1].text + s.text)) : t && t.push(s);\n    }\n    return new g(t || e, n);\n  }\n  static from(e) {\n    if (!e)\n      return g.empty;\n    if (e instanceof g)\n      return e;\n    if (Array.isArray(e))\n      return this.fromArray(e);\n    if (e.attrs)\n      return new g([e], e.nodeSize);\n    throw new RangeError(\"Can not convert \" + e + \" to a Fragment\" + (e.nodesBetween ? \" (looks like multiple versions of prosemirror-model were loaded)\" : \"\"));\n  }\n}\ng.empty = new g([], 0);\nconst de = { index: 0, offset: 0 };\nfunction Z(r, e) {\n  return de.index = r, de.offset = e, de;\n}\nfunction xe(r, e) {\n  if (r === e)\n    return !0;\n  if (!(r && typeof r == \"object\") || !(e && typeof e == \"object\"))\n    return !1;\n  let t = Array.isArray(r);\n  if (Array.isArray(e) != t)\n    return !1;\n  if (t) {\n    if (r.length != e.length)\n      return !1;\n    for (let n = 0; n < r.length; n++)\n      if (!xe(r[n], e[n]))\n        return !1;\n  } else {\n    for (let n in r)\n      if (!(n in e) || !xe(r[n], e[n]))\n        return !1;\n    for (let n in e)\n      if (!(n in r))\n        return !1;\n  }\n  return !0;\n}\nclass T {\n  constructor(e, t) {\n    this.type = e, this.attrs = t;\n  }\n  addToSet(e) {\n    let t, n = !1;\n    for (let i = 0; i < e.length; i++) {\n      let s = e[i];\n      if (this.eq(s))\n        return e;\n      if (this.type.excludes(s.type))\n        t || (t = e.slice(0, i));\n      else {\n        if (s.type.excludes(this.type))\n          return e;\n        !n && s.type.rank > this.type.rank && (t || (t = e.slice(0, i)), t.push(this), n = !0), t && t.push(s);\n      }\n    }\n    return t || (t = e.slice()), n || t.push(this), t;\n  }\n  removeFromSet(e) {\n    for (let t = 0; t < e.length; t++)\n      if (this.eq(e[t]))\n        return e.slice(0, t).concat(e.slice(t + 1));\n    return e;\n  }\n  isInSet(e) {\n    for (let t = 0; t < e.length; t++)\n      if (this.eq(e[t]))\n        return !0;\n    return !1;\n  }\n  eq(e) {\n    return this == e || this.type == e.type && xe(this.attrs, e.attrs);\n  }\n  toJSON() {\n    let e = { type: this.type.name };\n    for (let t in this.attrs) {\n      e.attrs = this.attrs;\n      break;\n    }\n    return e;\n  }\n  static fromJSON(e, t) {\n    if (!t)\n      throw new RangeError(\"Invalid input for Mark.fromJSON\");\n    let n = e.marks[t.type];\n    if (!n)\n      throw new RangeError(`There is no mark type ${t.type} in this schema`);\n    return n.create(t.attrs);\n  }\n  static sameSet(e, t) {\n    if (e == t)\n      return !0;\n    if (e.length != t.length)\n      return !1;\n    for (let n = 0; n < e.length; n++)\n      if (!e[n].eq(t[n]))\n        return !1;\n    return !0;\n  }\n  static setFrom(e) {\n    if (!e || Array.isArray(e) && e.length == 0)\n      return T.none;\n    if (e instanceof T)\n      return [e];\n    let t = e.slice();\n    return t.sort((n, i) => n.type.rank - i.type.rank), t;\n  }\n}\nT.none = [];\nclass It extends Error {\n}\nclass y {\n  constructor(e, t, n) {\n    this.content = e, this.openStart = t, this.openEnd = n;\n  }\n  get size() {\n    return this.content.size - this.openStart - this.openEnd;\n  }\n  insertAt(e, t) {\n    let n = nt(this.content, e + this.openStart, t);\n    return n && new y(n, this.openStart, this.openEnd);\n  }\n  removeBetween(e, t) {\n    return new y(tt(this.content, e + this.openStart, t + this.openStart), this.openStart, this.openEnd);\n  }\n  eq(e) {\n    return this.content.eq(e.content) && this.openStart == e.openStart && this.openEnd == e.openEnd;\n  }\n  toString() {\n    return this.content + \"(\" + this.openStart + \",\" + this.openEnd + \")\";\n  }\n  toJSON() {\n    if (!this.content.size)\n      return null;\n    let e = { content: this.content.toJSON() };\n    return this.openStart > 0 && (e.openStart = this.openStart), this.openEnd > 0 && (e.openEnd = this.openEnd), e;\n  }\n  static fromJSON(e, t) {\n    if (!t)\n      return y.empty;\n    let n = t.openStart || 0, i = t.openEnd || 0;\n    if (typeof n != \"number\" || typeof i != \"number\")\n      throw new RangeError(\"Invalid input for Slice.fromJSON\");\n    return new y(g.fromJSON(e, t.content), n, i);\n  }\n  static maxOpen(e, t = !0) {\n    let n = 0, i = 0;\n    for (let s = e.firstChild; s && !s.isLeaf && (t || !s.type.spec.isolating); s = s.firstChild)\n      n++;\n    for (let s = e.lastChild; s && !s.isLeaf && (t || !s.type.spec.isolating); s = s.lastChild)\n      i++;\n    return new y(e, n, i);\n  }\n}\ny.empty = new y(g.empty, 0, 0);\nfunction tt(r, e, t) {\n  let { index: n, offset: i } = r.findIndex(e), s = r.maybeChild(n), { index: o, offset: l } = r.findIndex(t);\n  if (i == e || s.isText) {\n    if (l != t && !r.child(o).isText)\n      throw new RangeError(\"Removing non-flat range\");\n    return r.cut(0, e).append(r.cut(t));\n  }\n  if (n != o)\n    throw new RangeError(\"Removing non-flat range\");\n  return r.replaceChild(n, s.copy(tt(s.content, e - i - 1, t - i - 1)));\n}\nfunction nt(r, e, t, n) {\n  let { index: i, offset: s } = r.findIndex(e), o = r.maybeChild(i);\n  if (s == e || o.isText)\n    return n && !n.canReplace(i, i, t) ? null : r.cut(0, e).append(t).append(r.cut(e));\n  let l = nt(o.content, e - s - 1, t);\n  return l && r.replaceChild(i, o.copy(l));\n}\nclass Se {\n  constructor(e, t, n) {\n    this.$from = e, this.$to = t, this.depth = n;\n  }\n  get start() {\n    return this.$from.before(this.depth + 1);\n  }\n  get end() {\n    return this.$to.after(this.depth + 1);\n  }\n  get parent() {\n    return this.$from.node(this.depth);\n  }\n  get startIndex() {\n    return this.$from.index(this.depth);\n  }\n  get endIndex() {\n    return this.$to.indexAfter(this.depth);\n  }\n}\nclass re {\n  constructor(e, t) {\n    this.schema = e, this.rules = t, this.tags = [], this.styles = [], t.forEach((n) => {\n      n.tag ? this.tags.push(n) : n.style && this.styles.push(n);\n    }), this.normalizeLists = !this.tags.some((n) => {\n      if (!/^(ul|ol)\\b/.test(n.tag) || !n.node)\n        return !1;\n      let i = e.nodes[n.node];\n      return i.contentMatch.matchType(i);\n    });\n  }\n  parse(e, t = {}) {\n    let n = new Be(this, t, !1);\n    return n.addAll(e, t.from, t.to), n.finish();\n  }\n  parseSlice(e, t = {}) {\n    let n = new Be(this, t, !0);\n    return n.addAll(e, t.from, t.to), y.maxOpen(n.finish());\n  }\n  matchTag(e, t, n) {\n    for (let i = n ? this.tags.indexOf(n) + 1 : 0; i < this.tags.length; i++) {\n      let s = this.tags[i];\n      if (Nt(e, s.tag) && (s.namespace === void 0 || e.namespaceURI == s.namespace) && (!s.context || t.matchesContext(s.context))) {\n        if (s.getAttrs) {\n          let o = s.getAttrs(e);\n          if (o === !1)\n            continue;\n          s.attrs = o || void 0;\n        }\n        return s;\n      }\n    }\n  }\n  matchStyle(e, t, n, i) {\n    for (let s = i ? this.styles.indexOf(i) + 1 : 0; s < this.styles.length; s++) {\n      let o = this.styles[s], l = o.style;\n      if (!(l.indexOf(e) != 0 || o.context && !n.matchesContext(o.context) || l.length > e.length && (l.charCodeAt(e.length) != 61 || l.slice(e.length + 1) != t))) {\n        if (o.getAttrs) {\n          let a = o.getAttrs(t);\n          if (a === !1)\n            continue;\n          o.attrs = a || void 0;\n        }\n        return o;\n      }\n    }\n  }\n  static schemaRules(e) {\n    let t = [];\n    function n(i) {\n      let s = i.priority == null ? 50 : i.priority, o = 0;\n      for (; o < t.length; o++) {\n        let l = t[o];\n        if ((l.priority == null ? 50 : l.priority) < s)\n          break;\n      }\n      t.splice(o, 0, i);\n    }\n    for (let i in e.marks) {\n      let s = e.marks[i].spec.parseDOM;\n      s && s.forEach((o) => {\n        n(o = Fe(o)), o.mark = i;\n      });\n    }\n    for (let i in e.nodes) {\n      let s = e.nodes[i].spec.parseDOM;\n      s && s.forEach((o) => {\n        n(o = Fe(o)), o.node = i;\n      });\n    }\n    return t;\n  }\n  static fromSchema(e) {\n    return e.cached.domParser || (e.cached.domParser = new re(e, re.schemaRules(e)));\n  }\n}\nconst rt = {\n  address: !0,\n  article: !0,\n  aside: !0,\n  blockquote: !0,\n  canvas: !0,\n  dd: !0,\n  div: !0,\n  dl: !0,\n  fieldset: !0,\n  figcaption: !0,\n  figure: !0,\n  footer: !0,\n  form: !0,\n  h1: !0,\n  h2: !0,\n  h3: !0,\n  h4: !0,\n  h5: !0,\n  h6: !0,\n  header: !0,\n  hgroup: !0,\n  hr: !0,\n  li: !0,\n  noscript: !0,\n  ol: !0,\n  output: !0,\n  p: !0,\n  pre: !0,\n  section: !0,\n  table: !0,\n  tfoot: !0,\n  ul: !0\n}, At = {\n  head: !0,\n  noscript: !0,\n  object: !0,\n  script: !0,\n  style: !0,\n  title: !0\n}, it = { ol: !0, ul: !0 }, ie = 1, se = 2, H = 4;\nfunction Re(r, e, t) {\n  return e != null ? (e ? ie : 0) | (e === \"full\" ? se : 0) : r && r.whitespace == \"pre\" ? ie | se : t & ~H;\n}\nclass _ {\n  constructor(e, t, n, i, s, o, l) {\n    this.type = e, this.attrs = t, this.marks = n, this.pendingMarks = i, this.solid = s, this.options = l, this.content = [], this.activeMarks = T.none, this.stashMarks = [], this.match = o || (l & H ? null : e.contentMatch);\n  }\n  findWrapping(e) {\n    if (!this.match) {\n      if (!this.type)\n        return [];\n      let t = this.type.contentMatch.fillBefore(g.from(e));\n      if (t)\n        this.match = this.type.contentMatch.matchFragment(t);\n      else {\n        let n = this.type.contentMatch, i;\n        return (i = n.findWrapping(e.type)) ? (this.match = n, i) : null;\n      }\n    }\n    return this.match.findWrapping(e.type);\n  }\n  finish(e) {\n    if (!(this.options & ie)) {\n      let n = this.content[this.content.length - 1], i;\n      if (n && n.isText && (i = /[ \\t\\r\\n\\u000c]+$/.exec(n.text))) {\n        let s = n;\n        n.text.length == i[0].length ? this.content.pop() : this.content[this.content.length - 1] = s.withText(s.text.slice(0, s.text.length - i[0].length));\n      }\n    }\n    let t = g.from(this.content);\n    return !e && this.match && (t = t.append(this.match.fillBefore(g.empty, !0))), this.type ? this.type.create(this.attrs, t, this.marks) : t;\n  }\n  popFromStashMark(e) {\n    for (let t = this.stashMarks.length - 1; t >= 0; t--)\n      if (e.eq(this.stashMarks[t]))\n        return this.stashMarks.splice(t, 1)[0];\n  }\n  applyPending(e) {\n    for (let t = 0, n = this.pendingMarks; t < n.length; t++) {\n      let i = n[t];\n      (this.type ? this.type.allowsMarkType(i.type) : Rt(i.type, e)) && !i.isInSet(this.activeMarks) && (this.activeMarks = i.addToSet(this.activeMarks), this.pendingMarks = i.removeFromSet(this.pendingMarks));\n    }\n  }\n  inlineContext(e) {\n    return this.type ? this.type.inlineContent : this.content.length ? this.content[0].isInline : e.parentNode && !rt.hasOwnProperty(e.parentNode.nodeName.toLowerCase());\n  }\n}\nclass Be {\n  constructor(e, t, n) {\n    this.parser = e, this.options = t, this.isOpen = n, this.open = 0;\n    let i = t.topNode, s, o = Re(null, t.preserveWhitespace, 0) | (n ? H : 0);\n    i ? s = new _(i.type, i.attrs, T.none, T.none, !0, t.topMatch || i.type.contentMatch, o) : n ? s = new _(null, null, T.none, T.none, !0, null, o) : s = new _(e.schema.topNodeType, null, T.none, T.none, !0, null, o), this.nodes = [s], this.find = t.findPositions, this.needsBlock = !1;\n  }\n  get top() {\n    return this.nodes[this.open];\n  }\n  addDOM(e) {\n    if (e.nodeType == 3)\n      this.addTextNode(e);\n    else if (e.nodeType == 1) {\n      let t = e.getAttribute(\"style\"), n = t ? this.readStyles(zt(t)) : null, i = this.top;\n      if (n != null)\n        for (let s = 0; s < n.length; s++)\n          this.addPendingMark(n[s]);\n      if (this.addElement(e), n != null)\n        for (let s = 0; s < n.length; s++)\n          this.removePendingMark(n[s], i);\n    }\n  }\n  addTextNode(e) {\n    let t = e.nodeValue, n = this.top;\n    if (n.options & se || n.inlineContext(e) || /[^ \\t\\r\\n\\u000c]/.test(t)) {\n      if (n.options & ie)\n        n.options & se ? t = t.replace(/\\r\\n?/g, `\n`) : t = t.replace(/\\r?\\n|\\r/g, \" \");\n      else if (t = t.replace(/[ \\t\\r\\n\\u000c]+/g, \" \"), /^[ \\t\\r\\n\\u000c]/.test(t) && this.open == this.nodes.length - 1) {\n        let i = n.content[n.content.length - 1], s = e.previousSibling;\n        (!i || s && s.nodeName == \"BR\" || i.isText && /[ \\t\\r\\n\\u000c]$/.test(i.text)) && (t = t.slice(1));\n      }\n      t && this.insertNode(this.parser.schema.text(t)), this.findInText(e);\n    } else\n      this.findInside(e);\n  }\n  addElement(e, t) {\n    let n = e.nodeName.toLowerCase(), i;\n    it.hasOwnProperty(n) && this.parser.normalizeLists && Ot(e);\n    let s = this.options.ruleFromNode && this.options.ruleFromNode(e) || (i = this.parser.matchTag(e, this, t));\n    if (s ? s.ignore : At.hasOwnProperty(n))\n      this.findInside(e), this.ignoreFallback(e);\n    else if (!s || s.skip || s.closeParent) {\n      s && s.closeParent ? this.open = Math.max(0, this.open - 1) : s && s.skip.nodeType && (e = s.skip);\n      let o, l = this.top, a = this.needsBlock;\n      if (rt.hasOwnProperty(n))\n        o = !0, l.type || (this.needsBlock = !0);\n      else if (!e.firstChild) {\n        this.leafFallback(e);\n        return;\n      }\n      this.addAll(e), o && this.sync(l), this.needsBlock = a;\n    } else\n      this.addElementByRule(e, s, s.consuming === !1 ? i : void 0);\n  }\n  leafFallback(e) {\n    e.nodeName == \"BR\" && this.top.type && this.top.type.inlineContent && this.addTextNode(e.ownerDocument.createTextNode(`\n`));\n  }\n  ignoreFallback(e) {\n    e.nodeName == \"BR\" && (!this.top.type || !this.top.type.inlineContent) && this.findPlace(this.parser.schema.text(\"-\"));\n  }\n  readStyles(e) {\n    let t = T.none;\n    e:\n      for (let n = 0; n < e.length; n += 2)\n        for (let i = void 0; ; ) {\n          let s = this.parser.matchStyle(e[n], e[n + 1], this, i);\n          if (!s)\n            continue e;\n          if (s.ignore)\n            return null;\n          if (t = this.parser.schema.marks[s.mark].create(s.attrs).addToSet(t), s.consuming === !1)\n            i = s;\n          else\n            break;\n        }\n    return t;\n  }\n  addElementByRule(e, t, n) {\n    let i, s, o;\n    t.node ? (s = this.parser.schema.nodes[t.node], s.isLeaf ? this.insertNode(s.create(t.attrs)) || this.leafFallback(e) : i = this.enter(s, t.attrs || null, t.preserveWhitespace)) : (o = this.parser.schema.marks[t.mark].create(t.attrs), this.addPendingMark(o));\n    let l = this.top;\n    if (s && s.isLeaf)\n      this.findInside(e);\n    else if (n)\n      this.addElement(e, n);\n    else if (t.getContent)\n      this.findInside(e), t.getContent(e, this.parser.schema).forEach((a) => this.insertNode(a));\n    else {\n      let a = e;\n      typeof t.contentElement == \"string\" ? a = e.querySelector(t.contentElement) : typeof t.contentElement == \"function\" ? a = t.contentElement(e) : t.contentElement && (a = t.contentElement), this.findAround(e, a, !0), this.addAll(a);\n    }\n    i && this.sync(l) && this.open--, o && this.removePendingMark(o, l);\n  }\n  addAll(e, t, n) {\n    let i = t || 0;\n    for (let s = t ? e.childNodes[t] : e.firstChild, o = n == null ? null : e.childNodes[n]; s != o; s = s.nextSibling, ++i)\n      this.findAtPoint(e, i), this.addDOM(s);\n    this.findAtPoint(e, i);\n  }\n  findPlace(e) {\n    let t, n;\n    for (let i = this.open; i >= 0; i--) {\n      let s = this.nodes[i], o = s.findWrapping(e);\n      if (o && (!t || t.length > o.length) && (t = o, n = s, !o.length) || s.solid)\n        break;\n    }\n    if (!t)\n      return !1;\n    this.sync(n);\n    for (let i = 0; i < t.length; i++)\n      this.enterInner(t[i], null, !1);\n    return !0;\n  }\n  insertNode(e) {\n    if (e.isInline && this.needsBlock && !this.top.type) {\n      let t = this.textblockFromContext();\n      t && this.enterInner(t);\n    }\n    if (this.findPlace(e)) {\n      this.closeExtra();\n      let t = this.top;\n      t.applyPending(e.type), t.match && (t.match = t.match.matchType(e.type));\n      let n = t.activeMarks;\n      for (let i = 0; i < e.marks.length; i++)\n        (!t.type || t.type.allowsMarkType(e.marks[i].type)) && (n = e.marks[i].addToSet(n));\n      return t.content.push(e.mark(n)), !0;\n    }\n    return !1;\n  }\n  enter(e, t, n) {\n    let i = this.findPlace(e.create(t));\n    return i && this.enterInner(e, t, !0, n), i;\n  }\n  enterInner(e, t = null, n = !1, i) {\n    this.closeExtra();\n    let s = this.top;\n    s.applyPending(e), s.match = s.match && s.match.matchType(e);\n    let o = Re(e, i, s.options);\n    s.options & H && s.content.length == 0 && (o |= H), this.nodes.push(new _(e, t, s.activeMarks, s.pendingMarks, n, null, o)), this.open++;\n  }\n  closeExtra(e = !1) {\n    let t = this.nodes.length - 1;\n    if (t > this.open) {\n      for (; t > this.open; t--)\n        this.nodes[t - 1].content.push(this.nodes[t].finish(e));\n      this.nodes.length = this.open + 1;\n    }\n  }\n  finish() {\n    return this.open = 0, this.closeExtra(this.isOpen), this.nodes[0].finish(this.isOpen || this.options.topOpen);\n  }\n  sync(e) {\n    for (let t = this.open; t >= 0; t--)\n      if (this.nodes[t] == e)\n        return this.open = t, !0;\n    return !1;\n  }\n  get currentPos() {\n    this.closeExtra();\n    let e = 0;\n    for (let t = this.open; t >= 0; t--) {\n      let n = this.nodes[t].content;\n      for (let i = n.length - 1; i >= 0; i--)\n        e += n[i].nodeSize;\n      t && e++;\n    }\n    return e;\n  }\n  findAtPoint(e, t) {\n    if (this.find)\n      for (let n = 0; n < this.find.length; n++)\n        this.find[n].node == e && this.find[n].offset == t && (this.find[n].pos = this.currentPos);\n  }\n  findInside(e) {\n    if (this.find)\n      for (let t = 0; t < this.find.length; t++)\n        this.find[t].pos == null && e.nodeType == 1 && e.contains(this.find[t].node) && (this.find[t].pos = this.currentPos);\n  }\n  findAround(e, t, n) {\n    if (e != t && this.find)\n      for (let i = 0; i < this.find.length; i++)\n        this.find[i].pos == null && e.nodeType == 1 && e.contains(this.find[i].node) && t.compareDocumentPosition(this.find[i].node) & (n ? 2 : 4) && (this.find[i].pos = this.currentPos);\n  }\n  findInText(e) {\n    if (this.find)\n      for (let t = 0; t < this.find.length; t++)\n        this.find[t].node == e && (this.find[t].pos = this.currentPos - (e.nodeValue.length - this.find[t].offset));\n  }\n  matchesContext(e) {\n    if (e.indexOf(\"|\") > -1)\n      return e.split(/\\s*\\|\\s*/).some(this.matchesContext, this);\n    let t = e.split(\"/\"), n = this.options.context, i = !this.isOpen && (!n || n.parent.type == this.nodes[0].type), s = -(n ? n.depth + 1 : 0) + (i ? 0 : 1), o = (l, a) => {\n      for (; l >= 0; l--) {\n        let c = t[l];\n        if (c == \"\") {\n          if (l == t.length - 1 || l == 0)\n            continue;\n          for (; a >= s; a--)\n            if (o(l - 1, a))\n              return !0;\n          return !1;\n        } else {\n          let f = a > 0 || a == 0 && i ? this.nodes[a].type : n && a >= s ? n.node(a - s).type : null;\n          if (!f || f.name != c && f.groups.indexOf(c) == -1)\n            return !1;\n          a--;\n        }\n      }\n      return !0;\n    };\n    return o(t.length - 1, this.open);\n  }\n  textblockFromContext() {\n    let e = this.options.context;\n    if (e)\n      for (let t = e.depth; t >= 0; t--) {\n        let n = e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;\n        if (n && n.isTextblock && n.defaultAttrs)\n          return n;\n      }\n    for (let t in this.parser.schema.nodes) {\n      let n = this.parser.schema.nodes[t];\n      if (n.isTextblock && n.defaultAttrs)\n        return n;\n    }\n  }\n  addPendingMark(e) {\n    let t = Bt(e, this.top.pendingMarks);\n    t && this.top.stashMarks.push(t), this.top.pendingMarks = e.addToSet(this.top.pendingMarks);\n  }\n  removePendingMark(e, t) {\n    for (let n = this.open; n >= 0; n--) {\n      let i = this.nodes[n];\n      if (i.pendingMarks.lastIndexOf(e) > -1)\n        i.pendingMarks = e.removeFromSet(i.pendingMarks);\n      else {\n        i.activeMarks = e.removeFromSet(i.activeMarks);\n        let o = i.popFromStashMark(e);\n        o && i.type && i.type.allowsMarkType(o.type) && (i.activeMarks = o.addToSet(i.activeMarks));\n      }\n      if (i == t)\n        break;\n    }\n  }\n}\nfunction Ot(r) {\n  for (let e = r.firstChild, t = null; e; e = e.nextSibling) {\n    let n = e.nodeType == 1 ? e.nodeName.toLowerCase() : null;\n    n && it.hasOwnProperty(n) && t ? (t.appendChild(e), e = t) : n == \"li\" ? t = e : n && (t = null);\n  }\n}\nfunction Nt(r, e) {\n  return (r.matches || r.msMatchesSelector || r.webkitMatchesSelector || r.mozMatchesSelector).call(r, e);\n}\nfunction zt(r) {\n  let e = /\\s*([\\w-]+)\\s*:\\s*([^;]+)/g, t, n = [];\n  for (; t = e.exec(r); )\n    n.push(t[1], t[2].trim());\n  return n;\n}\nfunction Fe(r) {\n  let e = {};\n  for (let t in r)\n    e[t] = r[t];\n  return e;\n}\nfunction Rt(r, e) {\n  let t = e.schema.nodes;\n  for (let n in t) {\n    let i = t[n];\n    if (!i.allowsMarkType(r))\n      continue;\n    let s = [], o = (l) => {\n      s.push(l);\n      for (let a = 0; a < l.edgeCount; a++) {\n        let { type: c, next: f } = l.edge(a);\n        if (c == e || s.indexOf(f) < 0 && o(f))\n          return !0;\n      }\n    };\n    if (o(i.contentMatch))\n      return !0;\n  }\n}\nfunction Bt(r, e) {\n  for (let t = 0; t < e.length; t++)\n    if (r.eq(e[t]))\n      return e[t];\n}\nconst st = 65535, ot = Math.pow(2, 16);\nfunction Ft(r, e) {\n  return r + e * ot;\n}\nfunction Pe(r) {\n  return r & st;\n}\nfunction Pt(r) {\n  return (r - (r & st)) / ot;\n}\nconst lt = 1, at = 2, te = 4, ct = 8;\nclass $e {\n  constructor(e, t, n) {\n    this.pos = e, this.delInfo = t, this.recover = n;\n  }\n  get deleted() {\n    return (this.delInfo & ct) > 0;\n  }\n  get deletedBefore() {\n    return (this.delInfo & (lt | te)) > 0;\n  }\n  get deletedAfter() {\n    return (this.delInfo & (at | te)) > 0;\n  }\n  get deletedAcross() {\n    return (this.delInfo & te) > 0;\n  }\n}\nclass A {\n  constructor(e, t = !1) {\n    if (this.ranges = e, this.inverted = t, !e.length && A.empty)\n      return A.empty;\n  }\n  recover(e) {\n    let t = 0, n = Pe(e);\n    if (!this.inverted)\n      for (let i = 0; i < n; i++)\n        t += this.ranges[i * 3 + 2] - this.ranges[i * 3 + 1];\n    return this.ranges[n * 3] + t + Pt(e);\n  }\n  mapResult(e, t = 1) {\n    return this._map(e, t, !1);\n  }\n  map(e, t = 1) {\n    return this._map(e, t, !0);\n  }\n  _map(e, t, n) {\n    let i = 0, s = this.inverted ? 2 : 1, o = this.inverted ? 1 : 2;\n    for (let l = 0; l < this.ranges.length; l += 3) {\n      let a = this.ranges[l] - (this.inverted ? i : 0);\n      if (a > e)\n        break;\n      let c = this.ranges[l + s], f = this.ranges[l + o], u = a + c;\n      if (e <= u) {\n        let h = c ? e == a ? -1 : e == u ? 1 : t : t, d = a + i + (h < 0 ? 0 : f);\n        if (n)\n          return d;\n        let m = e == (t < 0 ? a : u) ? null : Ft(l / 3, e - a), p = e == a ? at : e == u ? lt : te;\n        return (t < 0 ? e != a : e != u) && (p |= ct), new $e(d, p, m);\n      }\n      i += f - c;\n    }\n    return n ? e + i : new $e(e + i, 0, null);\n  }\n  touches(e, t) {\n    let n = 0, i = Pe(t), s = this.inverted ? 2 : 1, o = this.inverted ? 1 : 2;\n    for (let l = 0; l < this.ranges.length; l += 3) {\n      let a = this.ranges[l] - (this.inverted ? n : 0);\n      if (a > e)\n        break;\n      let c = this.ranges[l + s], f = a + c;\n      if (e <= f && l == i * 3)\n        return !0;\n      n += this.ranges[l + o] - c;\n    }\n    return !1;\n  }\n  forEach(e) {\n    let t = this.inverted ? 2 : 1, n = this.inverted ? 1 : 2;\n    for (let i = 0, s = 0; i < this.ranges.length; i += 3) {\n      let o = this.ranges[i], l = o - (this.inverted ? s : 0), a = o + (this.inverted ? 0 : s), c = this.ranges[i + t], f = this.ranges[i + n];\n      e(l, l + c, a, a + f), s += f - c;\n    }\n  }\n  invert() {\n    return new A(this.ranges, !this.inverted);\n  }\n  toString() {\n    return (this.inverted ? \"-\" : \"\") + JSON.stringify(this.ranges);\n  }\n  static offset(e) {\n    return e == 0 ? A.empty : new A(e < 0 ? [0, -e, 0] : [0, 0, e]);\n  }\n}\nA.empty = new A([]);\nconst pe = /* @__PURE__ */ Object.create(null);\nclass R {\n  getMap() {\n    return A.empty;\n  }\n  merge(e) {\n    return null;\n  }\n  static fromJSON(e, t) {\n    if (!t || !t.stepType)\n      throw new RangeError(\"Invalid input for Step.fromJSON\");\n    let n = pe[t.stepType];\n    if (!n)\n      throw new RangeError(`No step type ${t.stepType} defined`);\n    return n.fromJSON(e, t);\n  }\n  static jsonID(e, t) {\n    if (e in pe)\n      throw new RangeError(\"Duplicate use of step JSON ID \" + e);\n    return pe[e] = t, t.prototype.jsonID = e, t;\n  }\n}\nclass E {\n  constructor(e, t) {\n    this.doc = e, this.failed = t;\n  }\n  static ok(e) {\n    return new E(e, null);\n  }\n  static fail(e) {\n    return new E(null, e);\n  }\n  static fromReplace(e, t, n, i) {\n    try {\n      return E.ok(e.replace(t, n, i));\n    } catch (s) {\n      if (s instanceof It)\n        return E.fail(s.message);\n      throw s;\n    }\n  }\n}\nfunction ve(r, e, t) {\n  let n = [];\n  for (let i = 0; i < r.childCount; i++) {\n    let s = r.child(i);\n    s.content.size && (s = s.copy(ve(s.content, e, s))), s.isInline && (s = e(s, t, i)), n.push(s);\n  }\n  return g.fromArray(n);\n}\nclass F extends R {\n  constructor(e, t, n) {\n    super(), this.from = e, this.to = t, this.mark = n;\n  }\n  apply(e) {\n    let t = e.slice(this.from, this.to), n = e.resolve(this.from), i = n.node(n.sharedDepth(this.to)), s = new y(ve(t.content, (o, l) => !o.isAtom || !l.type.allowsMarkType(this.mark.type) ? o : o.mark(this.mark.addToSet(o.marks)), i), t.openStart, t.openEnd);\n    return E.fromReplace(e, this.from, this.to, s);\n  }\n  invert() {\n    return new P(this.from, this.to, this.mark);\n  }\n  map(e) {\n    let t = e.mapResult(this.from, 1), n = e.mapResult(this.to, -1);\n    return t.deleted && n.deleted || t.pos >= n.pos ? null : new F(t.pos, n.pos, this.mark);\n  }\n  merge(e) {\n    return e instanceof F && e.mark.eq(this.mark) && this.from <= e.to && this.to >= e.from ? new F(Math.min(this.from, e.from), Math.max(this.to, e.to), this.mark) : null;\n  }\n  toJSON() {\n    return {\n      stepType: \"addMark\",\n      mark: this.mark.toJSON(),\n      from: this.from,\n      to: this.to\n    };\n  }\n  static fromJSON(e, t) {\n    if (typeof t.from != \"number\" || typeof t.to != \"number\")\n      throw new RangeError(\"Invalid input for AddMarkStep.fromJSON\");\n    return new F(t.from, t.to, e.markFromJSON(t.mark));\n  }\n}\nR.jsonID(\"addMark\", F);\nclass P extends R {\n  constructor(e, t, n) {\n    super(), this.from = e, this.to = t, this.mark = n;\n  }\n  apply(e) {\n    let t = e.slice(this.from, this.to), n = new y(ve(t.content, (i) => i.mark(this.mark.removeFromSet(i.marks)), e), t.openStart, t.openEnd);\n    return E.fromReplace(e, this.from, this.to, n);\n  }\n  invert() {\n    return new F(this.from, this.to, this.mark);\n  }\n  map(e) {\n    let t = e.mapResult(this.from, 1), n = e.mapResult(this.to, -1);\n    return t.deleted && n.deleted || t.pos >= n.pos ? null : new P(t.pos, n.pos, this.mark);\n  }\n  merge(e) {\n    return e instanceof P && e.mark.eq(this.mark) && this.from <= e.to && this.to >= e.from ? new P(Math.min(this.from, e.from), Math.max(this.to, e.to), this.mark) : null;\n  }\n  toJSON() {\n    return {\n      stepType: \"removeMark\",\n      mark: this.mark.toJSON(),\n      from: this.from,\n      to: this.to\n    };\n  }\n  static fromJSON(e, t) {\n    if (typeof t.from != \"number\" || typeof t.to != \"number\")\n      throw new RangeError(\"Invalid input for RemoveMarkStep.fromJSON\");\n    return new P(t.from, t.to, e.markFromJSON(t.mark));\n  }\n}\nR.jsonID(\"removeMark\", P);\nclass I extends R {\n  constructor(e, t, n, i = !1) {\n    super(), this.from = e, this.to = t, this.slice = n, this.structure = i;\n  }\n  apply(e) {\n    return this.structure && Me(e, this.from, this.to) ? E.fail(\"Structure replace would overwrite content\") : E.fromReplace(e, this.from, this.to, this.slice);\n  }\n  getMap() {\n    return new A([this.from, this.to - this.from, this.slice.size]);\n  }\n  invert(e) {\n    return new I(this.from, this.from + this.slice.size, e.slice(this.from, this.to));\n  }\n  map(e) {\n    let t = e.mapResult(this.from, 1), n = e.mapResult(this.to, -1);\n    return t.deletedAcross && n.deletedAcross ? null : new I(t.pos, Math.max(t.pos, n.pos), this.slice);\n  }\n  merge(e) {\n    if (!(e instanceof I) || e.structure || this.structure)\n      return null;\n    if (this.from + this.slice.size == e.from && !this.slice.openEnd && !e.slice.openStart) {\n      let t = this.slice.size + e.slice.size == 0 ? y.empty : new y(this.slice.content.append(e.slice.content), this.slice.openStart, e.slice.openEnd);\n      return new I(this.from, this.to + (e.to - e.from), t, this.structure);\n    } else if (e.to == this.from && !this.slice.openStart && !e.slice.openEnd) {\n      let t = this.slice.size + e.slice.size == 0 ? y.empty : new y(e.slice.content.append(this.slice.content), e.slice.openStart, this.slice.openEnd);\n      return new I(e.from, this.to, t, this.structure);\n    } else\n      return null;\n  }\n  toJSON() {\n    let e = { stepType: \"replace\", from: this.from, to: this.to };\n    return this.slice.size && (e.slice = this.slice.toJSON()), this.structure && (e.structure = !0), e;\n  }\n  static fromJSON(e, t) {\n    if (typeof t.from != \"number\" || typeof t.to != \"number\")\n      throw new RangeError(\"Invalid input for ReplaceStep.fromJSON\");\n    return new I(t.from, t.to, y.fromJSON(e, t.slice), !!t.structure);\n  }\n}\nR.jsonID(\"replace\", I);\nclass v extends R {\n  constructor(e, t, n, i, s, o, l = !1) {\n    super(), this.from = e, this.to = t, this.gapFrom = n, this.gapTo = i, this.slice = s, this.insert = o, this.structure = l;\n  }\n  apply(e) {\n    if (this.structure && (Me(e, this.from, this.gapFrom) || Me(e, this.gapTo, this.to)))\n      return E.fail(\"Structure gap-replace would overwrite content\");\n    let t = e.slice(this.gapFrom, this.gapTo);\n    if (t.openStart || t.openEnd)\n      return E.fail(\"Gap is not a flat range\");\n    let n = this.slice.insertAt(this.insert, t.content);\n    return n ? E.fromReplace(e, this.from, this.to, n) : E.fail(\"Content does not fit in gap\");\n  }\n  getMap() {\n    return new A([\n      this.from,\n      this.gapFrom - this.from,\n      this.insert,\n      this.gapTo,\n      this.to - this.gapTo,\n      this.slice.size - this.insert\n    ]);\n  }\n  invert(e) {\n    let t = this.gapTo - this.gapFrom;\n    return new v(this.from, this.from + this.slice.size + t, this.from + this.insert, this.from + this.insert + t, e.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from), this.gapFrom - this.from, this.structure);\n  }\n  map(e) {\n    let t = e.mapResult(this.from, 1), n = e.mapResult(this.to, -1), i = e.map(this.gapFrom, -1), s = e.map(this.gapTo, 1);\n    return t.deletedAcross && n.deletedAcross || i < t.pos || s > n.pos ? null : new v(t.pos, n.pos, i, s, this.slice, this.insert, this.structure);\n  }\n  toJSON() {\n    let e = {\n      stepType: \"replaceAround\",\n      from: this.from,\n      to: this.to,\n      gapFrom: this.gapFrom,\n      gapTo: this.gapTo,\n      insert: this.insert\n    };\n    return this.slice.size && (e.slice = this.slice.toJSON()), this.structure && (e.structure = !0), e;\n  }\n  static fromJSON(e, t) {\n    if (typeof t.from != \"number\" || typeof t.to != \"number\" || typeof t.gapFrom != \"number\" || typeof t.gapTo != \"number\" || typeof t.insert != \"number\")\n      throw new RangeError(\"Invalid input for ReplaceAroundStep.fromJSON\");\n    return new v(t.from, t.to, t.gapFrom, t.gapTo, y.fromJSON(e, t.slice), t.insert, !!t.structure);\n  }\n}\nR.jsonID(\"replaceAround\", v);\nfunction Me(r, e, t) {\n  let n = r.resolve(e), i = t - e, s = n.depth;\n  for (; i > 0 && s > 0 && n.indexAfter(s) == n.node(s).childCount; )\n    s--, i--;\n  if (i > 0) {\n    let o = n.node(s).maybeChild(n.indexAfter(s));\n    for (; i > 0; ) {\n      if (!o || o.isLeaf)\n        return !0;\n      o = o.firstChild, i--;\n    }\n  }\n  return !1;\n}\nfunction $t(r, e, t) {\n  return (e == 0 || r.canReplace(e, r.childCount)) && (t == r.childCount || r.canReplace(0, t));\n}\nfunction q(r) {\n  let t = r.parent.content.cutByIndex(r.startIndex, r.endIndex);\n  for (let n = r.depth; ; --n) {\n    let i = r.$from.node(n), s = r.$from.index(n), o = r.$to.indexAfter(n);\n    if (n < r.depth && i.canReplace(s, o, t))\n      return n;\n    if (n == 0 || i.type.spec.isolating || !$t(i, s, o))\n      break;\n  }\n  return null;\n}\nfunction ft(r, e, t = null, n = r) {\n  let i = Dt(r, e), s = i && Jt(n, e);\n  return s ? i.map(De).concat({ type: e, attrs: t }).concat(s.map(De)) : null;\n}\nfunction De(r) {\n  return { type: r, attrs: null };\n}\nfunction Dt(r, e) {\n  let { parent: t, startIndex: n, endIndex: i } = r, s = t.contentMatchAt(n).findWrapping(e);\n  if (!s)\n    return null;\n  let o = s.length ? s[0] : e;\n  return t.canReplaceWith(n, i, o) ? s : null;\n}\nfunction Jt(r, e) {\n  let { parent: t, startIndex: n, endIndex: i } = r, s = t.child(n), o = e.contentMatch.findWrapping(s.type);\n  if (!o)\n    return null;\n  let a = (o.length ? o[o.length - 1] : e).contentMatch;\n  for (let c = n; a && c < i; c++)\n    a = a.matchType(t.child(c).type);\n  return !a || !a.validEnd ? null : o;\n}\nfunction W(r, e, t = 1, n) {\n  let i = r.resolve(e), s = i.depth - t, o = n && n[n.length - 1] || i.parent;\n  if (s < 0 || i.parent.type.spec.isolating || !i.parent.canReplace(i.index(), i.parent.childCount) || !o.type.validContent(i.parent.content.cutByIndex(i.index(), i.parent.childCount)))\n    return !1;\n  for (let c = i.depth - 1, f = t - 2; c > s; c--, f--) {\n    let u = i.node(c), h = i.index(c);\n    if (u.type.spec.isolating)\n      return !1;\n    let d = u.content.cutByIndex(h, u.childCount), m = n && n[f] || u;\n    if (m != u && (d = d.replaceChild(0, m.type.create(m.attrs))), !u.canReplace(h + 1, u.childCount) || !m.type.validContent(d))\n      return !1;\n  }\n  let l = i.indexAfter(s), a = n && n[0];\n  return i.node(s).canReplaceWith(l, l, a ? a.type : i.node(s + 1).type);\n}\nfunction fe(r, e) {\n  let t = r.resolve(e), n = t.index();\n  return Lt(t.nodeBefore, t.nodeAfter) && t.parent.canReplace(n, n + 1);\n}\nfunction Lt(r, e) {\n  return !!(r && e && !r.isLeaf && r.canAppend(e));\n}\nfunction ut(r, e, t = e, n = y.empty) {\n  if (e == t && !n.size)\n    return null;\n  let i = r.resolve(e), s = r.resolve(t);\n  return Wt(i, s, n) ? new I(e, t, n) : new Vt(i, s, n).fit();\n}\nfunction Wt(r, e, t) {\n  return !t.openStart && !t.openEnd && r.start() == e.start() && r.parent.canReplace(r.index(), e.index(), t.content);\n}\nclass Vt {\n  constructor(e, t, n) {\n    this.$from = e, this.$to = t, this.unplaced = n, this.frontier = [], this.placed = g.empty;\n    for (let i = 0; i <= e.depth; i++) {\n      let s = e.node(i);\n      this.frontier.push({\n        type: s.type,\n        match: s.contentMatchAt(e.indexAfter(i))\n      });\n    }\n    for (let i = e.depth; i > 0; i--)\n      this.placed = g.from(e.node(i).copy(this.placed));\n  }\n  get depth() {\n    return this.frontier.length - 1;\n  }\n  fit() {\n    for (; this.unplaced.size; ) {\n      let c = this.findFittable();\n      c ? this.placeNodes(c) : this.openMore() || this.dropNode();\n    }\n    let e = this.mustMoveInline(), t = this.placed.size - this.depth - this.$from.depth, n = this.$from, i = this.close(e < 0 ? this.$to : n.doc.resolve(e));\n    if (!i)\n      return null;\n    let s = this.placed, o = n.depth, l = i.depth;\n    for (; o && l && s.childCount == 1; )\n      s = s.firstChild.content, o--, l--;\n    let a = new y(s, o, l);\n    return e > -1 ? new v(n.pos, e, this.$to.pos, this.$to.end(), a, t) : a.size || n.pos != this.$to.pos ? new I(n.pos, i.pos, a) : null;\n  }\n  findFittable() {\n    for (let e = 1; e <= 2; e++)\n      for (let t = this.unplaced.openStart; t >= 0; t--) {\n        let n, i = null;\n        t ? (i = me(this.unplaced.content, t - 1).firstChild, n = i.content) : n = this.unplaced.content;\n        let s = n.firstChild;\n        for (let o = this.depth; o >= 0; o--) {\n          let { type: l, match: a } = this.frontier[o], c, f = null;\n          if (e == 1 && (s ? a.matchType(s.type) || (f = a.fillBefore(g.from(s), !1)) : i && l.compatibleContent(i.type)))\n            return { sliceDepth: t, frontierDepth: o, parent: i, inject: f };\n          if (e == 2 && s && (c = a.findWrapping(s.type)))\n            return { sliceDepth: t, frontierDepth: o, parent: i, wrap: c };\n          if (i && a.matchType(i.type))\n            break;\n        }\n      }\n  }\n  openMore() {\n    let { content: e, openStart: t, openEnd: n } = this.unplaced, i = me(e, t);\n    return !i.childCount || i.firstChild.isLeaf ? !1 : (this.unplaced = new y(e, t + 1, Math.max(n, i.size + t >= e.size - n ? t + 1 : 0)), !0);\n  }\n  dropNode() {\n    let { content: e, openStart: t, openEnd: n } = this.unplaced, i = me(e, t);\n    if (i.childCount <= 1 && t > 0) {\n      let s = e.size - t <= t + i.size;\n      this.unplaced = new y(K(e, t - 1, 1), t - 1, s ? t - 1 : n);\n    } else\n      this.unplaced = new y(K(e, t, 1), t, n);\n  }\n  placeNodes({ sliceDepth: e, frontierDepth: t, parent: n, inject: i, wrap: s }) {\n    for (; this.depth > t; )\n      this.closeFrontierNode();\n    if (s)\n      for (let p = 0; p < s.length; p++)\n        this.openFrontierNode(s[p]);\n    let o = this.unplaced, l = n ? n.content : o.content, a = o.openStart - e, c = 0, f = [], { match: u, type: h } = this.frontier[t];\n    if (i) {\n      for (let p = 0; p < i.childCount; p++)\n        f.push(i.child(p));\n      u = u.matchFragment(i);\n    }\n    let d = l.size + e - (o.content.size - o.openEnd);\n    for (; c < l.childCount; ) {\n      let p = l.child(c), w = u.matchType(p.type);\n      if (!w)\n        break;\n      c++, (c > 1 || a == 0 || p.content.size) && (u = w, f.push(ht(p.mark(h.allowedMarks(p.marks)), c == 1 ? a : 0, c == l.childCount ? d : -1)));\n    }\n    let m = c == l.childCount;\n    m || (d = -1), this.placed = G(this.placed, t, g.from(f)), this.frontier[t].match = u, m && d < 0 && n && n.type == this.frontier[this.depth].type && this.frontier.length > 1 && this.closeFrontierNode();\n    for (let p = 0, w = l; p < d; p++) {\n      let x = w.lastChild;\n      this.frontier.push({ type: x.type, match: x.contentMatchAt(x.childCount) }), w = x.content;\n    }\n    this.unplaced = m ? e == 0 ? y.empty : new y(K(o.content, e - 1, 1), e - 1, d < 0 ? o.openEnd : e - 1) : new y(K(o.content, e, c), o.openStart, o.openEnd);\n  }\n  mustMoveInline() {\n    if (!this.$to.parent.isTextblock)\n      return -1;\n    let e = this.frontier[this.depth], t;\n    if (!e.type.isTextblock || !ge(this.$to, this.$to.depth, e.type, e.match, !1) || this.$to.depth == this.depth && (t = this.findCloseLevel(this.$to)) && t.depth == this.depth)\n      return -1;\n    let { depth: n } = this.$to, i = this.$to.after(n);\n    for (; n > 1 && i == this.$to.end(--n); )\n      ++i;\n    return i;\n  }\n  findCloseLevel(e) {\n    e:\n      for (let t = Math.min(this.depth, e.depth); t >= 0; t--) {\n        let { match: n, type: i } = this.frontier[t], s = t < e.depth && e.end(t + 1) == e.pos + (e.depth - (t + 1)), o = ge(e, t, i, n, s);\n        if (!!o) {\n          for (let l = t - 1; l >= 0; l--) {\n            let { match: a, type: c } = this.frontier[l], f = ge(e, l, c, a, !0);\n            if (!f || f.childCount)\n              continue e;\n          }\n          return { depth: t, fit: o, move: s ? e.doc.resolve(e.after(t + 1)) : e };\n        }\n      }\n  }\n  close(e) {\n    let t = this.findCloseLevel(e);\n    if (!t)\n      return null;\n    for (; this.depth > t.depth; )\n      this.closeFrontierNode();\n    t.fit.childCount && (this.placed = G(this.placed, t.depth, t.fit)), e = t.move;\n    for (let n = t.depth + 1; n <= e.depth; n++) {\n      let i = e.node(n), s = i.type.contentMatch.fillBefore(i.content, !0, e.index(n));\n      this.openFrontierNode(i.type, i.attrs, s);\n    }\n    return e;\n  }\n  openFrontierNode(e, t = null, n) {\n    let i = this.frontier[this.depth];\n    i.match = i.match.matchType(e), this.placed = G(this.placed, this.depth, g.from(e.create(t, n))), this.frontier.push({ type: e, match: e.contentMatch });\n  }\n  closeFrontierNode() {\n    let t = this.frontier.pop().match.fillBefore(g.empty, !0);\n    t.childCount && (this.placed = G(this.placed, this.frontier.length, t));\n  }\n}\nfunction K(r, e, t) {\n  return e == 0 ? r.cutByIndex(t, r.childCount) : r.replaceChild(0, r.firstChild.copy(K(r.firstChild.content, e - 1, t)));\n}\nfunction G(r, e, t) {\n  return e == 0 ? r.append(t) : r.replaceChild(r.childCount - 1, r.lastChild.copy(G(r.lastChild.content, e - 1, t)));\n}\nfunction me(r, e) {\n  for (let t = 0; t < e; t++)\n    r = r.firstChild.content;\n  return r;\n}\nfunction ht(r, e, t) {\n  if (e <= 0)\n    return r;\n  let n = r.content;\n  return e > 1 && (n = n.replaceChild(0, ht(n.firstChild, e - 1, n.childCount == 1 ? t - 1 : 0))), e > 0 && (n = r.type.contentMatch.fillBefore(n).append(n), t <= 0 && (n = n.append(r.type.contentMatch.matchFragment(n).fillBefore(g.empty, !0)))), r.copy(n);\n}\nfunction ge(r, e, t, n, i) {\n  let s = r.node(e), o = i ? r.indexAfter(e) : r.index(e);\n  if (o == s.childCount && !t.compatibleContent(s.type))\n    return null;\n  let l = n.fillBefore(s.content, !0, o);\n  return l && !jt(t, s.content, o) ? l : null;\n}\nfunction jt(r, e, t) {\n  for (let n = t; n < e.childCount; n++)\n    if (!r.allowsMarks(e.child(n).marks))\n      return !0;\n  return !1;\n}\nlet U = class extends Error {\n};\nU = function r(e) {\n  let t = Error.call(this, e);\n  return t.__proto__ = r.prototype, t;\n};\nU.prototype = Object.create(Error.prototype);\nU.prototype.constructor = U;\nU.prototype.name = \"TransformError\";\nconst ye = /* @__PURE__ */ Object.create(null);\nclass k {\n  constructor(e, t, n) {\n    this.$anchor = e, this.$head = t, this.ranges = n || [new qt(e.min(t), e.max(t))];\n  }\n  get anchor() {\n    return this.$anchor.pos;\n  }\n  get head() {\n    return this.$head.pos;\n  }\n  get from() {\n    return this.$from.pos;\n  }\n  get to() {\n    return this.$to.pos;\n  }\n  get $from() {\n    return this.ranges[0].$from;\n  }\n  get $to() {\n    return this.ranges[0].$to;\n  }\n  get empty() {\n    let e = this.ranges;\n    for (let t = 0; t < e.length; t++)\n      if (e[t].$from.pos != e[t].$to.pos)\n        return !1;\n    return !0;\n  }\n  content() {\n    return this.$from.doc.slice(this.from, this.to, !0);\n  }\n  replace(e, t = y.empty) {\n    let n = t.content.lastChild, i = null;\n    for (let l = 0; l < t.openEnd; l++)\n      i = n, n = n.lastChild;\n    let s = e.steps.length, o = this.ranges;\n    for (let l = 0; l < o.length; l++) {\n      let { $from: a, $to: c } = o[l], f = e.mapping.slice(s);\n      e.replaceRange(f.map(a.pos), f.map(c.pos), l ? y.empty : t), l == 0 && We(e, s, (n ? n.isInline : i && i.isTextblock) ? -1 : 1);\n    }\n  }\n  replaceWith(e, t) {\n    let n = e.steps.length, i = this.ranges;\n    for (let s = 0; s < i.length; s++) {\n      let { $from: o, $to: l } = i[s], a = e.mapping.slice(n), c = a.map(o.pos), f = a.map(l.pos);\n      s ? e.deleteRange(c, f) : (e.replaceRangeWith(c, f, t), We(e, n, t.isInline ? -1 : 1));\n    }\n  }\n  static findFrom(e, t, n = !1) {\n    let i = e.parent.inlineContent ? new S(e) : L(e.node(0), e.parent, e.pos, e.index(), t, n);\n    if (i)\n      return i;\n    for (let s = e.depth - 1; s >= 0; s--) {\n      let o = t < 0 ? L(e.node(0), e.node(s), e.before(s + 1), e.index(s), t, n) : L(e.node(0), e.node(s), e.after(s + 1), e.index(s) + 1, t, n);\n      if (o)\n        return o;\n    }\n    return null;\n  }\n  static near(e, t = 1) {\n    return this.findFrom(e, t) || this.findFrom(e, -t) || new N(e.node(0));\n  }\n  static atStart(e) {\n    return L(e, e, 0, 0, 1) || new N(e);\n  }\n  static atEnd(e) {\n    return L(e, e, e.content.size, e.childCount, -1) || new N(e);\n  }\n  static fromJSON(e, t) {\n    if (!t || !t.type)\n      throw new RangeError(\"Invalid input for Selection.fromJSON\");\n    let n = ye[t.type];\n    if (!n)\n      throw new RangeError(`No selection type ${t.type} defined`);\n    return n.fromJSON(e, t);\n  }\n  static jsonID(e, t) {\n    if (e in ye)\n      throw new RangeError(\"Duplicate use of selection JSON ID \" + e);\n    return ye[e] = t, t.prototype.jsonID = e, t;\n  }\n  getBookmark() {\n    return S.between(this.$anchor, this.$head).getBookmark();\n  }\n}\nk.prototype.visible = !0;\nclass qt {\n  constructor(e, t) {\n    this.$from = e, this.$to = t;\n  }\n}\nlet Je = !1;\nfunction Le(r) {\n  !Je && !r.parent.inlineContent && (Je = !0, console.warn(\"TextSelection endpoint not pointing into a node with inline content (\" + r.parent.type.name + \")\"));\n}\nclass S extends k {\n  constructor(e, t = e) {\n    Le(e), Le(t), super(e, t);\n  }\n  get $cursor() {\n    return this.$anchor.pos == this.$head.pos ? this.$head : null;\n  }\n  map(e, t) {\n    let n = e.resolve(t.map(this.head));\n    if (!n.parent.inlineContent)\n      return k.near(n);\n    let i = e.resolve(t.map(this.anchor));\n    return new S(i.parent.inlineContent ? i : n, n);\n  }\n  replace(e, t = y.empty) {\n    if (super.replace(e, t), t == y.empty) {\n      let n = this.$from.marksAcross(this.$to);\n      n && e.ensureMarks(n);\n    }\n  }\n  eq(e) {\n    return e instanceof S && e.anchor == this.anchor && e.head == this.head;\n  }\n  getBookmark() {\n    return new ue(this.anchor, this.head);\n  }\n  toJSON() {\n    return { type: \"text\", anchor: this.anchor, head: this.head };\n  }\n  static fromJSON(e, t) {\n    if (typeof t.anchor != \"number\" || typeof t.head != \"number\")\n      throw new RangeError(\"Invalid input for TextSelection.fromJSON\");\n    return new S(e.resolve(t.anchor), e.resolve(t.head));\n  }\n  static create(e, t, n = t) {\n    let i = e.resolve(t);\n    return new this(i, n == t ? i : e.resolve(n));\n  }\n  static between(e, t, n) {\n    let i = e.pos - t.pos;\n    if ((!n || i) && (n = i >= 0 ? 1 : -1), !t.parent.inlineContent) {\n      let s = k.findFrom(t, n, !0) || k.findFrom(t, -n, !0);\n      if (s)\n        t = s.$head;\n      else\n        return k.near(t, n);\n    }\n    return e.parent.inlineContent || (i == 0 ? e = t : (e = (k.findFrom(e, -n, !0) || k.findFrom(e, n, !0)).$anchor, e.pos < t.pos != i < 0 && (e = t))), new S(e, t);\n  }\n}\nk.jsonID(\"text\", S);\nclass ue {\n  constructor(e, t) {\n    this.anchor = e, this.head = t;\n  }\n  map(e) {\n    return new ue(e.map(this.anchor), e.map(this.head));\n  }\n  resolve(e) {\n    return S.between(e.resolve(this.anchor), e.resolve(this.head));\n  }\n}\nclass M extends k {\n  constructor(e) {\n    let t = e.nodeAfter, n = e.node(0).resolve(e.pos + t.nodeSize);\n    super(e, n), this.node = t;\n  }\n  map(e, t) {\n    let { deleted: n, pos: i } = t.mapResult(this.anchor), s = e.resolve(i);\n    return n ? k.near(s) : new M(s);\n  }\n  content() {\n    return new y(g.from(this.node), 0, 0);\n  }\n  eq(e) {\n    return e instanceof M && e.anchor == this.anchor;\n  }\n  toJSON() {\n    return { type: \"node\", anchor: this.anchor };\n  }\n  getBookmark() {\n    return new Ce(this.anchor);\n  }\n  static fromJSON(e, t) {\n    if (typeof t.anchor != \"number\")\n      throw new RangeError(\"Invalid input for NodeSelection.fromJSON\");\n    return new M(e.resolve(t.anchor));\n  }\n  static create(e, t) {\n    return new M(e.resolve(t));\n  }\n  static isSelectable(e) {\n    return !e.isText && e.type.spec.selectable !== !1;\n  }\n}\nM.prototype.visible = !1;\nk.jsonID(\"node\", M);\nclass Ce {\n  constructor(e) {\n    this.anchor = e;\n  }\n  map(e) {\n    let { deleted: t, pos: n } = e.mapResult(this.anchor);\n    return t ? new ue(n, n) : new Ce(n);\n  }\n  resolve(e) {\n    let t = e.resolve(this.anchor), n = t.nodeAfter;\n    return n && M.isSelectable(n) ? new M(t) : k.near(t);\n  }\n}\nclass N extends k {\n  constructor(e) {\n    super(e.resolve(0), e.resolve(e.content.size));\n  }\n  replace(e, t = y.empty) {\n    if (t == y.empty) {\n      e.delete(0, e.doc.content.size);\n      let n = k.atStart(e.doc);\n      n.eq(e.selection) || e.setSelection(n);\n    } else\n      super.replace(e, t);\n  }\n  toJSON() {\n    return { type: \"all\" };\n  }\n  static fromJSON(e) {\n    return new N(e);\n  }\n  map(e) {\n    return new N(e);\n  }\n  eq(e) {\n    return e instanceof N;\n  }\n  getBookmark() {\n    return Kt;\n  }\n}\nk.jsonID(\"all\", N);\nconst Kt = {\n  map() {\n    return this;\n  },\n  resolve(r) {\n    return new N(r);\n  }\n};\nfunction L(r, e, t, n, i, s = !1) {\n  if (e.inlineContent)\n    return S.create(r, t);\n  for (let o = n - (i > 0 ? 0 : 1); i > 0 ? o < e.childCount : o >= 0; o += i) {\n    let l = e.child(o);\n    if (l.isAtom) {\n      if (!s && M.isSelectable(l))\n        return M.create(r, t - (i < 0 ? l.nodeSize : 0));\n    } else {\n      let a = L(r, l, t + i, i < 0 ? l.childCount : 0, i, s);\n      if (a)\n        return a;\n    }\n    t += l.nodeSize * i;\n  }\n  return null;\n}\nfunction We(r, e, t) {\n  let n = r.steps.length - 1;\n  if (n < e)\n    return;\n  let i = r.steps[n];\n  if (!(i instanceof I || i instanceof v))\n    return;\n  let s = r.mapping.maps[n], o;\n  s.forEach((l, a, c, f) => {\n    o == null && (o = f);\n  }), r.setSelection(k.near(r.doc.resolve(o), t));\n}\nfunction Ve(r, e) {\n  return !e || !r ? r : r.bind(e);\n}\nclass ee {\n  constructor(e, t, n) {\n    this.name = e, this.init = Ve(t.init, n), this.apply = Ve(t.apply, n);\n  }\n}\nnew ee(\"doc\", {\n  init(r) {\n    return r.doc || r.schema.topNodeType.createAndFill();\n  },\n  apply(r) {\n    return r.doc;\n  }\n}), new ee(\"selection\", {\n  init(r, e) {\n    return r.selection || k.atStart(e.doc);\n  },\n  apply(r) {\n    return r.selection;\n  }\n}), new ee(\"storedMarks\", {\n  init(r) {\n    return r.storedMarks || null;\n  },\n  apply(r, e, t, n) {\n    return n.selection.$cursor ? r.storedMarks : null;\n  }\n}), new ee(\"scrollToSelection\", {\n  init() {\n    return 0;\n  },\n  apply(r, e) {\n    return r.scrolledIntoView ? e + 1 : e;\n  }\n});\nfunction dt(r, e, t) {\n  for (let n in r) {\n    let i = r[n];\n    i instanceof Function ? i = i.bind(e) : n == \"handleDOMEvents\" && (i = dt(i, e, {})), t[n] = i;\n  }\n  return t;\n}\nclass Q {\n  constructor(e) {\n    this.spec = e, this.props = {}, e.props && dt(e.props, this, this.props), this.key = e.key ? e.key.key : pt(\"plugin\");\n  }\n  getState(e) {\n    return e[this.key];\n  }\n}\nconst we = /* @__PURE__ */ Object.create(null);\nfunction pt(r) {\n  return r in we ? r + \"$\" + ++we[r] : (we[r] = 0, r + \"$\");\n}\nclass X {\n  constructor(e = \"key\") {\n    this.key = pt(e);\n  }\n  get(e) {\n    return e.config.pluginsByKey[this.key];\n  }\n  getState(e) {\n    return e[this.key];\n  }\n}\nconst Gt = (r, e) => r.selection.empty ? !1 : (e && e(r.tr.deleteSelection().scrollIntoView()), !0), Ht = (r, e, t) => {\n  let { $cursor: n } = r.selection;\n  if (!n || (t ? !t.endOfTextblock(\"backward\", r) : n.parentOffset > 0))\n    return !1;\n  let i = mt(n);\n  if (!i) {\n    let o = n.blockRange(), l = o && q(o);\n    return l == null ? !1 : (e && e(r.tr.lift(o, l).scrollIntoView()), !0);\n  }\n  let s = i.nodeBefore;\n  if (!s.type.spec.isolating && wt(r, i, e))\n    return !0;\n  if (n.parent.content.size == 0 && (V(s, \"end\") || M.isSelectable(s))) {\n    let o = ut(r.doc, n.before(), n.after(), y.empty);\n    if (o && o.slice.size < o.to - o.from) {\n      if (e) {\n        let l = r.tr.step(o);\n        l.setSelection(V(s, \"end\") ? k.findFrom(l.doc.resolve(l.mapping.map(i.pos, -1)), -1) : M.create(l.doc, i.pos - s.nodeSize)), e(l.scrollIntoView());\n      }\n      return !0;\n    }\n  }\n  return s.isAtom && i.depth == n.depth - 1 ? (e && e(r.tr.delete(i.pos - s.nodeSize, i.pos).scrollIntoView()), !0) : !1;\n};\nfunction V(r, e, t = !1) {\n  for (let n = r; n; n = e == \"start\" ? n.firstChild : n.lastChild) {\n    if (n.isTextblock)\n      return !0;\n    if (t && n.childCount != 1)\n      return !1;\n  }\n  return !1;\n}\nconst Ut = (r, e, t) => {\n  let { $head: n, empty: i } = r.selection, s = n;\n  if (!i)\n    return !1;\n  if (n.parent.isTextblock) {\n    if (t ? !t.endOfTextblock(\"backward\", r) : n.parentOffset > 0)\n      return !1;\n    s = mt(n);\n  }\n  let o = s && s.nodeBefore;\n  return !o || !M.isSelectable(o) ? !1 : (e && e(r.tr.setSelection(M.create(r.doc, s.pos - o.nodeSize)).scrollIntoView()), !0);\n};\nfunction mt(r) {\n  if (!r.parent.type.spec.isolating)\n    for (let e = r.depth - 1; e >= 0; e--) {\n      if (r.index(e) > 0)\n        return r.doc.resolve(r.before(e + 1));\n      if (r.node(e).type.spec.isolating)\n        break;\n    }\n  return null;\n}\nconst Qt = (r, e, t) => {\n  let { $cursor: n } = r.selection;\n  if (!n || (t ? !t.endOfTextblock(\"forward\", r) : n.parentOffset < n.parent.content.size))\n    return !1;\n  let i = gt(n);\n  if (!i)\n    return !1;\n  let s = i.nodeAfter;\n  if (wt(r, i, e))\n    return !0;\n  if (n.parent.content.size == 0 && (V(s, \"start\") || M.isSelectable(s))) {\n    let o = ut(r.doc, n.before(), n.after(), y.empty);\n    if (o && o.slice.size < o.to - o.from) {\n      if (e) {\n        let l = r.tr.step(o);\n        l.setSelection(V(s, \"start\") ? k.findFrom(l.doc.resolve(l.mapping.map(i.pos)), 1) : M.create(l.doc, l.mapping.map(i.pos))), e(l.scrollIntoView());\n      }\n      return !0;\n    }\n  }\n  return s.isAtom && i.depth == n.depth - 1 ? (e && e(r.tr.delete(i.pos, i.pos + s.nodeSize).scrollIntoView()), !0) : !1;\n}, Xt = (r, e, t) => {\n  let { $head: n, empty: i } = r.selection, s = n;\n  if (!i)\n    return !1;\n  if (n.parent.isTextblock) {\n    if (t ? !t.endOfTextblock(\"forward\", r) : n.parentOffset < n.parent.content.size)\n      return !1;\n    s = gt(n);\n  }\n  let o = s && s.nodeAfter;\n  return !o || !M.isSelectable(o) ? !1 : (e && e(r.tr.setSelection(M.create(r.doc, s.pos)).scrollIntoView()), !0);\n};\nfunction gt(r) {\n  if (!r.parent.type.spec.isolating)\n    for (let e = r.depth - 1; e >= 0; e--) {\n      let t = r.node(e);\n      if (r.index(e) + 1 < t.childCount)\n        return r.doc.resolve(r.after(e + 1));\n      if (t.type.spec.isolating)\n        break;\n    }\n  return null;\n}\nconst Yt = (r, e) => {\n  let { $from: t, $to: n } = r.selection, i = t.blockRange(n), s = i && q(i);\n  return s == null ? !1 : (e && e(r.tr.lift(i, s).scrollIntoView()), !0);\n}, Zt = (r, e) => {\n  let { $head: t, $anchor: n } = r.selection;\n  return !t.parent.type.spec.code || !t.sameParent(n) ? !1 : (e && e(r.tr.insertText(`\n`).scrollIntoView()), !0);\n};\nfunction yt(r) {\n  for (let e = 0; e < r.edgeCount; e++) {\n    let { type: t } = r.edge(e);\n    if (t.isTextblock && !t.hasRequiredAttrs())\n      return t;\n  }\n  return null;\n}\nconst _t = (r, e) => {\n  let { $head: t, $anchor: n } = r.selection;\n  if (!t.parent.type.spec.code || !t.sameParent(n))\n    return !1;\n  let i = t.node(-1), s = t.indexAfter(-1), o = yt(i.contentMatchAt(s));\n  if (!o || !i.canReplaceWith(s, s, o))\n    return !1;\n  if (e) {\n    let l = t.after(), a = r.tr.replaceWith(l, l, o.createAndFill());\n    a.setSelection(k.near(a.doc.resolve(l), 1)), e(a.scrollIntoView());\n  }\n  return !0;\n}, en = (r, e) => {\n  let t = r.selection, { $from: n, $to: i } = t;\n  if (t instanceof N || n.parent.inlineContent || i.parent.inlineContent)\n    return !1;\n  let s = yt(i.parent.contentMatchAt(i.indexAfter()));\n  if (!s || !s.isTextblock)\n    return !1;\n  if (e) {\n    let o = (!n.parentOffset && i.index() < i.parent.childCount ? n : i).pos, l = r.tr.insert(o, s.createAndFill());\n    l.setSelection(S.create(l.doc, o + 1)), e(l.scrollIntoView());\n  }\n  return !0;\n}, tn = (r, e) => {\n  let { $cursor: t } = r.selection;\n  if (!t || t.parent.content.size)\n    return !1;\n  if (t.depth > 1 && t.after() != t.end(-1)) {\n    let s = t.before();\n    if (W(r.doc, s))\n      return e && e(r.tr.split(s).scrollIntoView()), !0;\n  }\n  let n = t.blockRange(), i = n && q(n);\n  return i == null ? !1 : (e && e(r.tr.lift(n, i).scrollIntoView()), !0);\n}, nn = (r, e) => {\n  let { $from: t, to: n } = r.selection, i, s = t.sharedDepth(n);\n  return s == 0 ? !1 : (i = t.before(s), e && e(r.tr.setSelection(M.create(r.doc, i))), !0);\n};\nfunction rn(r, e, t) {\n  let n = e.nodeBefore, i = e.nodeAfter, s = e.index();\n  return !n || !i || !n.type.compatibleContent(i.type) ? !1 : !n.content.size && e.parent.canReplace(s - 1, s) ? (t && t(r.tr.delete(e.pos - n.nodeSize, e.pos).scrollIntoView()), !0) : !e.parent.canReplace(s, s + 1) || !(i.isTextblock || fe(r.doc, e.pos)) ? !1 : (t && t(r.tr.clearIncompatible(e.pos, n.type, n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()), !0);\n}\nfunction wt(r, e, t) {\n  let n = e.nodeBefore, i = e.nodeAfter, s, o;\n  if (n.type.spec.isolating || i.type.spec.isolating)\n    return !1;\n  if (rn(r, e, t))\n    return !0;\n  let l = e.parent.canReplace(e.index(), e.index() + 1);\n  if (l && (s = (o = n.contentMatchAt(n.childCount)).findWrapping(i.type)) && o.matchType(s[0] || i.type).validEnd) {\n    if (t) {\n      let u = e.pos + i.nodeSize, h = g.empty;\n      for (let p = s.length - 1; p >= 0; p--)\n        h = g.from(s[p].create(null, h));\n      h = g.from(n.copy(h));\n      let d = r.tr.step(new v(e.pos - 1, u, e.pos, u, new y(h, 1, 0), s.length, !0)), m = u + 2 * s.length;\n      fe(d.doc, m) && d.join(m), t(d.scrollIntoView());\n    }\n    return !0;\n  }\n  let a = k.findFrom(e, 1), c = a && a.$from.blockRange(a.$to), f = c && q(c);\n  if (f != null && f >= e.depth)\n    return t && t(r.tr.lift(c, f).scrollIntoView()), !0;\n  if (l && V(i, \"start\", !0) && V(n, \"end\")) {\n    let u = n, h = [];\n    for (; h.push(u), !u.isTextblock; )\n      u = u.lastChild;\n    let d = i, m = 1;\n    for (; !d.isTextblock; d = d.firstChild)\n      m++;\n    if (u.canReplace(u.childCount, u.childCount, d.content)) {\n      if (t) {\n        let p = g.empty;\n        for (let x = h.length - 1; x >= 0; x--)\n          p = g.from(h[x].copy(p));\n        let w = r.tr.step(new v(e.pos - h.length, e.pos + i.nodeSize, e.pos + m, e.pos + i.nodeSize - m, new y(p, h.length, 0), 0, !0));\n        t(w.scrollIntoView());\n      }\n      return !0;\n    }\n  }\n  return !1;\n}\nfunction kt(r) {\n  return function(e, t) {\n    let n = e.selection, i = r < 0 ? n.$from : n.$to, s = i.depth;\n    for (; i.node(s).isInline; ) {\n      if (!s)\n        return !1;\n      s--;\n    }\n    return i.node(s).isTextblock ? (t && t(e.tr.setSelection(S.create(e.doc, r < 0 ? i.start(s) : i.end(s)))), !0) : !1;\n  };\n}\nconst sn = kt(-1), on = kt(1);\nfunction ln(r, e = null) {\n  return function(t, n) {\n    let { $from: i, $to: s } = t.selection, o = i.blockRange(s), l = o && ft(o, r, e);\n    return l ? (n && n(t.tr.wrap(o, l).scrollIntoView()), !0) : !1;\n  };\n}\nfunction je(r, e = null) {\n  return function(t, n) {\n    let { from: i, to: s } = t.selection, o = !1;\n    return t.doc.nodesBetween(i, s, (l, a) => {\n      if (o)\n        return !1;\n      if (!(!l.isTextblock || l.hasMarkup(r, e)))\n        if (l.type == r)\n          o = !0;\n        else {\n          let c = t.doc.resolve(a), f = c.index();\n          o = c.parent.canReplaceWith(f, f + 1, r);\n        }\n    }), o ? (n && n(t.tr.setBlockType(i, s, r, e).scrollIntoView()), !0) : !1;\n  };\n}\ntypeof navigator < \"u\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : typeof os < \"u\" && os.platform && os.platform() == \"darwin\";\nfunction an(r, e = null) {\n  return function(t, n) {\n    let { $from: i, $to: s } = t.selection, o = i.blockRange(s), l = !1, a = o;\n    if (!o)\n      return !1;\n    if (o.depth >= 2 && i.node(o.depth - 1).type.compatibleContent(r) && o.startIndex == 0) {\n      if (i.index(o.depth - 1) == 0)\n        return !1;\n      let f = t.doc.resolve(o.start - 2);\n      a = new Se(f, f, o.depth), o.endIndex < o.parent.childCount && (o = new Se(i, t.doc.resolve(s.end(o.depth)), o.depth)), l = !0;\n    }\n    let c = ft(a, r, e, o);\n    return c ? (n && n(cn(t.tr, o, c, l, r).scrollIntoView()), !0) : !1;\n  };\n}\nfunction cn(r, e, t, n, i) {\n  let s = g.empty;\n  for (let f = t.length - 1; f >= 0; f--)\n    s = g.from(t[f].type.create(t[f].attrs, s));\n  r.step(new v(e.start - (n ? 2 : 0), e.end, e.start, e.end, new y(s, 0, 0), t.length, !0));\n  let o = 0;\n  for (let f = 0; f < t.length; f++)\n    t[f].type == i && (o = f + 1);\n  let l = t.length - o, a = e.start + t.length - (n ? 2 : 0), c = e.parent;\n  for (let f = e.startIndex, u = e.endIndex, h = !0; f < u; f++, h = !1)\n    !h && W(r.doc, a, l) && (r.split(a, l), a += 2 * l), a += c.child(f).nodeSize;\n  return r;\n}\nfunction fn(r) {\n  return function(e, t) {\n    let { $from: n, $to: i } = e.selection, s = n.blockRange(i, (o) => o.childCount > 0 && o.firstChild.type == r);\n    return s ? t ? n.node(s.depth - 1).type == r ? un(e, t, r, s) : hn(e, t, s) : !0 : !1;\n  };\n}\nfunction un(r, e, t, n) {\n  let i = r.tr, s = n.end, o = n.$to.end(n.depth);\n  return s < o && (i.step(new v(s - 1, o, s, o, new y(g.from(t.create(null, n.parent.copy())), 1, 0), 1, !0)), n = new Se(i.doc.resolve(n.$from.pos), i.doc.resolve(o), n.depth)), e(i.lift(n, q(n)).scrollIntoView()), !0;\n}\nfunction hn(r, e, t) {\n  let n = r.tr, i = t.parent;\n  for (let d = t.end, m = t.endIndex - 1, p = t.startIndex; m > p; m--)\n    d -= i.child(m).nodeSize, n.delete(d - 1, d + 1);\n  let s = n.doc.resolve(t.start), o = s.nodeAfter;\n  if (n.mapping.map(t.end) != t.start + s.nodeAfter.nodeSize)\n    return !1;\n  let l = t.startIndex == 0, a = t.endIndex == i.childCount, c = s.node(-1), f = s.index(-1);\n  if (!c.canReplace(f + (l ? 0 : 1), f + 1, o.content.append(a ? g.empty : g.from(i))))\n    return !1;\n  let u = s.pos, h = u + o.nodeSize;\n  return n.step(new v(u - (l ? 1 : 0), h + (a ? 1 : 0), u + 1, h - 1, new y((l ? g.empty : g.from(i.copy(g.empty))).append(a ? g.empty : g.from(i.copy(g.empty))), l ? 0 : 1, a ? 0 : 1), l ? 0 : 1)), e(n.scrollIntoView()), !0;\n}\nfunction dn(r) {\n  return function(e, t) {\n    let { $from: n, $to: i } = e.selection, s = n.blockRange(i, (c) => c.childCount > 0 && c.firstChild.type == r);\n    if (!s)\n      return !1;\n    let o = s.startIndex;\n    if (o == 0)\n      return !1;\n    let l = s.parent, a = l.child(o - 1);\n    if (a.type != r)\n      return !1;\n    if (t) {\n      let c = a.lastChild && a.lastChild.type == l.type, f = g.from(c ? r.create() : null), u = new y(g.from(r.create(null, g.from(l.type.create(null, f)))), c ? 3 : 1, 0), h = s.start, d = s.end;\n      t(e.tr.step(new v(h - (c ? 3 : 1), d, h, d, u, 1, !0)).scrollIntoView());\n    }\n    return !0;\n  };\n}\nfunction xt(r) {\n  const { state: e, transaction: t } = r;\n  let { selection: n } = t, { doc: i } = t, { storedMarks: s } = t;\n  return {\n    ...e,\n    apply: e.apply.bind(e),\n    applyTransaction: e.applyTransaction.bind(e),\n    filterTransaction: e.filterTransaction,\n    plugins: e.plugins,\n    schema: e.schema,\n    reconfigure: e.reconfigure.bind(e),\n    toJSON: e.toJSON.bind(e),\n    get storedMarks() {\n      return s;\n    },\n    get selection() {\n      return n;\n    },\n    get doc() {\n      return i;\n    },\n    get tr() {\n      return n = t.selection, i = t.doc, s = t.storedMarks, t;\n    }\n  };\n}\nclass pn {\n  constructor(e) {\n    this.editor = e.editor, this.rawCommands = this.editor.extensionManager.commands, this.customState = e.state;\n  }\n  get hasCustomState() {\n    return !!this.customState;\n  }\n  get state() {\n    return this.customState || this.editor.state;\n  }\n  get commands() {\n    const { rawCommands: e, editor: t, state: n } = this, { view: i } = t, { tr: s } = n, o = this.buildProps(s);\n    return Object.fromEntries(Object.entries(e).map(([l, a]) => [l, (...f) => {\n      const u = a(...f)(o);\n      return !s.getMeta(\"preventDispatch\") && !this.hasCustomState && i.dispatch(s), u;\n    }]));\n  }\n  get chain() {\n    return () => this.createChain();\n  }\n  get can() {\n    return () => this.createCan();\n  }\n  createChain(e, t = !0) {\n    const { rawCommands: n, editor: i, state: s } = this, { view: o } = i, l = [], a = !!e, c = e || s.tr, f = () => (!a && t && !c.getMeta(\"preventDispatch\") && !this.hasCustomState && o.dispatch(c), l.every((h) => h === !0)), u = {\n      ...Object.fromEntries(Object.entries(n).map(([h, d]) => [h, (...p) => {\n        const w = this.buildProps(c, t), x = d(...p)(w);\n        return l.push(x), u;\n      }])),\n      run: f\n    };\n    return u;\n  }\n  createCan(e) {\n    const { rawCommands: t, state: n } = this, i = void 0, s = e || n.tr, o = this.buildProps(s, i);\n    return {\n      ...Object.fromEntries(Object.entries(t).map(([a, c]) => [a, (...f) => c(...f)({ ...o, dispatch: i })])),\n      chain: () => this.createChain(s, i)\n    };\n  }\n  buildProps(e, t = !0) {\n    const { rawCommands: n, editor: i, state: s } = this, { view: o } = i;\n    s.storedMarks && e.setStoredMarks(s.storedMarks);\n    const l = {\n      tr: e,\n      editor: i,\n      view: o,\n      state: xt({\n        state: s,\n        transaction: e\n      }),\n      dispatch: t ? () => {\n      } : void 0,\n      chain: () => this.createChain(e),\n      can: () => this.createCan(e),\n      get commands() {\n        return Object.fromEntries(Object.entries(n).map(([a, c]) => [a, (...f) => c(...f)(l)]));\n      }\n    };\n    return l;\n  }\n}\nfunction C(r, e, t) {\n  return r.config[e] === void 0 && r.parent ? C(r.parent, e, t) : typeof r.config[e] == \"function\" ? r.config[e].bind({\n    ...t,\n    parent: r.parent ? C(r.parent, e, t) : null\n  }) : r.config[e];\n}\nfunction mn(r) {\n  const e = r.filter((i) => i.type === \"extension\"), t = r.filter((i) => i.type === \"node\"), n = r.filter((i) => i.type === \"mark\");\n  return {\n    baseExtensions: e,\n    nodeExtensions: t,\n    markExtensions: n\n  };\n}\nfunction b(r, e) {\n  if (typeof r == \"string\") {\n    if (!e.nodes[r])\n      throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);\n    return e.nodes[r];\n  }\n  return r;\n}\nfunction St(...r) {\n  return r.filter((e) => !!e).reduce((e, t) => {\n    const n = { ...e };\n    return Object.entries(t).forEach(([i, s]) => {\n      if (!n[i]) {\n        n[i] = s;\n        return;\n      }\n      i === \"class\" ? n[i] = [n[i], s].join(\" \") : i === \"style\" ? n[i] = [n[i], s].join(\"; \") : n[i] = s;\n    }), n;\n  }, {});\n}\nfunction gn(r) {\n  return typeof r == \"function\";\n}\nfunction O(r, e = void 0, ...t) {\n  return gn(r) ? e ? r.bind(e)(...t) : r(...t) : r;\n}\nfunction yn(r) {\n  return Object.prototype.toString.call(r) === \"[object RegExp]\";\n}\nfunction wn(r) {\n  return Object.prototype.toString.call(r).slice(8, -1);\n}\nfunction ke(r) {\n  return wn(r) !== \"Object\" ? !1 : r.constructor === Object && Object.getPrototypeOf(r) === Object.prototype;\n}\nfunction Ee(r, e) {\n  const t = { ...r };\n  return ke(r) && ke(e) && Object.keys(e).forEach((n) => {\n    ke(e[n]) ? n in r ? t[n] = Ee(r[n], e[n]) : Object.assign(t, { [n]: e[n] }) : Object.assign(t, { [n]: e[n] });\n  }), t;\n}\nclass z {\n  constructor(e = {}) {\n    this.type = \"extension\", this.name = \"extension\", this.parent = null, this.child = null, this.config = {\n      name: this.name,\n      defaultOptions: {}\n    }, this.config = {\n      ...this.config,\n      ...e\n    }, this.name = this.config.name, e.defaultOptions && console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`), this.options = this.config.defaultOptions, this.config.addOptions && (this.options = O(C(this, \"addOptions\", {\n      name: this.name\n    }))), this.storage = O(C(this, \"addStorage\", {\n      name: this.name,\n      options: this.options\n    })) || {};\n  }\n  static create(e = {}) {\n    return new z(e);\n  }\n  configure(e = {}) {\n    const t = this.extend();\n    return t.options = Ee(this.options, e), t.storage = O(C(t, \"addStorage\", {\n      name: t.name,\n      options: t.options\n    })), t;\n  }\n  extend(e = {}) {\n    const t = new z(e);\n    return t.parent = this, this.child = t, t.name = e.name ? e.name : t.parent.name, e.defaultOptions && console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${t.name}\".`), t.options = O(C(t, \"addOptions\", {\n      name: t.name\n    })), t.storage = O(C(t, \"addStorage\", {\n      name: t.name,\n      options: t.options\n    })), t;\n  }\n}\nfunction kn(r, e, t) {\n  const { from: n, to: i } = e, { blockSeparator: s = `\n\n`, textSerializers: o = {} } = t || {};\n  let l = \"\", a = !0;\n  return r.nodesBetween(n, i, (c, f, u, h) => {\n    var d;\n    const m = o == null ? void 0 : o[c.type.name];\n    m ? (c.isBlock && !a && (l += s, a = !0), u && (l += m({\n      node: c,\n      pos: f,\n      parent: u,\n      index: h,\n      range: e\n    }))) : c.isText ? (l += (d = c == null ? void 0 : c.text) === null || d === void 0 ? void 0 : d.slice(Math.max(n, f) - f, i - f), a = !1) : c.isBlock && !a && (l += s, a = !0);\n  }), l;\n}\nfunction xn(r) {\n  return Object.fromEntries(Object.entries(r.nodes).filter(([, e]) => e.spec.toText).map(([e, t]) => [e, t.spec.toText]));\n}\nz.create({\n  name: \"clipboardTextSerializer\",\n  addProseMirrorPlugins() {\n    return [\n      new Q({\n        key: new X(\"clipboardTextSerializer\"),\n        props: {\n          clipboardTextSerializer: () => {\n            const { editor: r } = this, { state: e, schema: t } = r, { doc: n, selection: i } = e, { ranges: s } = i, o = Math.min(...s.map((f) => f.$from.pos)), l = Math.max(...s.map((f) => f.$to.pos)), a = xn(t);\n            return kn(n, { from: o, to: l }, {\n              textSerializers: a\n            });\n          }\n        }\n      })\n    ];\n  }\n});\nconst Sn = () => ({ editor: r, view: e }) => (requestAnimationFrame(() => {\n  var t;\n  r.isDestroyed || (e.dom.blur(), (t = window == null ? void 0 : window.getSelection()) === null || t === void 0 || t.removeAllRanges());\n}), !0), Mn = (r = !1) => ({ commands: e }) => e.setContent(\"\", r), bn = () => ({ state: r, tr: e, dispatch: t }) => {\n  const { selection: n } = e, { ranges: i } = n;\n  return t && i.forEach(({ $from: s, $to: o }) => {\n    r.doc.nodesBetween(s.pos, o.pos, (l, a) => {\n      if (l.type.isText)\n        return;\n      const { doc: c, mapping: f } = e, u = c.resolve(f.map(a)), h = c.resolve(f.map(a + l.nodeSize)), d = u.blockRange(h);\n      if (!d)\n        return;\n      const m = q(d);\n      if (l.type.isTextblock) {\n        const { defaultType: p } = u.parent.contentMatchAt(u.index());\n        e.setNodeMarkup(d.start, p);\n      }\n      (m || m === 0) && e.lift(d, m);\n    });\n  }), !0;\n}, vn = (r) => (e) => r(e), Cn = () => ({ state: r, dispatch: e }) => en(r, e), En = (r) => ({ tr: e, state: t, dispatch: n }) => {\n  const i = b(r, t.schema), s = e.selection.$anchor;\n  for (let o = s.depth; o > 0; o -= 1)\n    if (s.node(o).type === i) {\n      if (n) {\n        const a = s.before(o), c = s.after(o);\n        e.delete(a, c).scrollIntoView();\n      }\n      return !0;\n    }\n  return !1;\n}, Tn = (r) => ({ tr: e, dispatch: t }) => {\n  const { from: n, to: i } = r;\n  return t && e.delete(n, i), !0;\n}, In = () => ({ state: r, dispatch: e }) => Gt(r, e), An = () => ({ commands: r }) => r.keyboardShortcut(\"Enter\"), On = () => ({ state: r, dispatch: e }) => _t(r, e);\nfunction oe(r, e, t = { strict: !0 }) {\n  const n = Object.keys(e);\n  return n.length ? n.every((i) => t.strict ? e[i] === r[i] : yn(e[i]) ? e[i].test(r[i]) : e[i] === r[i]) : !0;\n}\nfunction be(r, e, t = {}) {\n  return r.find((n) => n.type === e && oe(n.attrs, t));\n}\nfunction Nn(r, e, t = {}) {\n  return !!be(r, e, t);\n}\nfunction Mt(r, e, t = {}) {\n  if (!r || !e)\n    return;\n  let n = r.parent.childAfter(r.parentOffset);\n  if (r.parentOffset === n.offset && n.offset !== 0 && (n = r.parent.childBefore(r.parentOffset)), !n.node)\n    return;\n  const i = be([...n.node.marks], e, t);\n  if (!i)\n    return;\n  let s = n.index, o = r.start() + n.offset, l = s + 1, a = o + n.node.nodeSize;\n  for (be([...n.node.marks], e, t); s > 0 && i.isInSet(r.parent.child(s - 1).marks); )\n    s -= 1, o -= r.parent.child(s).nodeSize;\n  for (; l < r.parent.childCount && Nn([...r.parent.child(l).marks], e, t); )\n    a += r.parent.child(l).nodeSize, l += 1;\n  return {\n    from: o,\n    to: a\n  };\n}\nfunction B(r, e) {\n  if (typeof r == \"string\") {\n    if (!e.marks[r])\n      throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);\n    return e.marks[r];\n  }\n  return r;\n}\nconst zn = (r, e = {}) => ({ tr: t, state: n, dispatch: i }) => {\n  const s = B(r, n.schema), { doc: o, selection: l } = t, { $from: a, from: c, to: f } = l;\n  if (i) {\n    const u = Mt(a, s, e);\n    if (u && u.from <= c && u.to >= f) {\n      const h = S.create(o, u.from, u.to);\n      t.setSelection(h);\n    }\n  }\n  return !0;\n}, Rn = (r) => (e) => {\n  const t = typeof r == \"function\" ? r(e) : r;\n  for (let n = 0; n < t.length; n += 1)\n    if (t[n](e))\n      return !0;\n  return !1;\n};\nfunction Bn(r) {\n  var e;\n  return ((e = r.constructor) === null || e === void 0 ? void 0 : e.toString().substring(0, 5)) === \"class\";\n}\nfunction Fn(r) {\n  return r && typeof r == \"object\" && !Array.isArray(r) && !Bn(r);\n}\nfunction Pn(r) {\n  return Fn(r) && r instanceof S;\n}\nfunction $(r = 0, e = 0, t = 0) {\n  return Math.min(Math.max(r, e), t);\n}\nfunction $n(r, e = null) {\n  if (!e)\n    return null;\n  const t = k.atStart(r), n = k.atEnd(r);\n  if (e === \"start\" || e === !0)\n    return t;\n  if (e === \"end\")\n    return n;\n  const i = t.from, s = n.to;\n  return e === \"all\" ? S.create(r, $(0, i, s), $(r.content.size, i, s)) : S.create(r, $(e, i, s), $(e, i, s));\n}\nfunction Te() {\n  return [\n    \"iPad Simulator\",\n    \"iPhone Simulator\",\n    \"iPod Simulator\",\n    \"iPad\",\n    \"iPhone\",\n    \"iPod\"\n  ].includes(navigator.platform) || navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document;\n}\nconst Dn = (r = null, e = {}) => ({ editor: t, view: n, tr: i, dispatch: s }) => {\n  e = {\n    scrollIntoView: !0,\n    ...e\n  };\n  const o = () => {\n    Te() && n.dom.focus(), requestAnimationFrame(() => {\n      t.isDestroyed || (n.focus(), e != null && e.scrollIntoView && t.commands.scrollIntoView());\n    });\n  };\n  if (n.hasFocus() && r === null || r === !1)\n    return !0;\n  if (s && r === null && !Pn(t.state.selection))\n    return o(), !0;\n  const l = $n(i.doc, r) || t.state.selection, a = t.state.selection.eq(l);\n  return s && (a || i.setSelection(l), a && i.storedMarks && i.setStoredMarks(i.storedMarks), o()), !0;\n}, Jn = (r, e) => (t) => r.every((n, i) => e(n, { ...t, index: i })), Ln = (r, e) => ({ tr: t, commands: n }) => n.insertContentAt({ from: t.selection.from, to: t.selection.to }, r, e);\nfunction qe(r) {\n  const e = `<body>${r}</body>`;\n  return new window.DOMParser().parseFromString(e, \"text/html\").body;\n}\nfunction le(r, e, t) {\n  if (t = {\n    slice: !0,\n    parseOptions: {},\n    ...t\n  }, typeof r == \"object\" && r !== null)\n    try {\n      return Array.isArray(r) ? g.fromArray(r.map((n) => e.nodeFromJSON(n))) : e.nodeFromJSON(r);\n    } catch (n) {\n      return console.warn(\"[tiptap warn]: Invalid content.\", \"Passed value:\", r, \"Error:\", n), le(\"\", e, t);\n    }\n  if (typeof r == \"string\") {\n    const n = re.fromSchema(e);\n    return t.slice ? n.parseSlice(qe(r), t.parseOptions).content : n.parse(qe(r), t.parseOptions);\n  }\n  return le(\"\", e, t);\n}\nfunction Wn(r, e, t) {\n  const n = r.steps.length - 1;\n  if (n < e)\n    return;\n  const i = r.steps[n];\n  if (!(i instanceof I || i instanceof v))\n    return;\n  const s = r.mapping.maps[n];\n  let o = 0;\n  s.forEach((l, a, c, f) => {\n    o === 0 && (o = f);\n  }), r.setSelection(k.near(r.doc.resolve(o), t));\n}\nconst Vn = (r) => r.toString().startsWith(\"<\"), jn = (r, e, t) => ({ tr: n, dispatch: i, editor: s }) => {\n  if (i) {\n    t = {\n      parseOptions: {},\n      updateSelection: !0,\n      ...t\n    };\n    const o = le(e, s.schema, {\n      parseOptions: {\n        preserveWhitespace: \"full\",\n        ...t.parseOptions\n      }\n    });\n    if (o.toString() === \"<>\")\n      return !0;\n    let { from: l, to: a } = typeof r == \"number\" ? { from: r, to: r } : r, c = !0, f = !0;\n    if ((Vn(o) ? o : [o]).forEach((h) => {\n      h.check(), c = c ? h.isText && h.marks.length === 0 : !1, f = f ? h.isBlock : !1;\n    }), l === a && f) {\n      const { parent: h } = n.doc.resolve(l);\n      h.isTextblock && !h.type.spec.code && !h.childCount && (l -= 1, a += 1);\n    }\n    c ? n.insertText(e, l, a) : n.replaceWith(l, a, o), t.updateSelection && Wn(n, n.steps.length - 1, -1);\n  }\n  return !0;\n}, qn = () => ({ state: r, dispatch: e }) => Ht(r, e), Kn = () => ({ state: r, dispatch: e }) => Qt(r, e);\nfunction bt() {\n  return typeof navigator < \"u\" ? /Mac/.test(navigator.platform) : !1;\n}\nfunction Gn(r) {\n  const e = r.split(/-(?!$)/);\n  let t = e[e.length - 1];\n  t === \"Space\" && (t = \" \");\n  let n, i, s, o;\n  for (let l = 0; l < e.length - 1; l += 1) {\n    const a = e[l];\n    if (/^(cmd|meta|m)$/i.test(a))\n      o = !0;\n    else if (/^a(lt)?$/i.test(a))\n      n = !0;\n    else if (/^(c|ctrl|control)$/i.test(a))\n      i = !0;\n    else if (/^s(hift)?$/i.test(a))\n      s = !0;\n    else if (/^mod$/i.test(a))\n      Te() || bt() ? o = !0 : i = !0;\n    else\n      throw new Error(`Unrecognized modifier name: ${a}`);\n  }\n  return n && (t = `Alt-${t}`), i && (t = `Ctrl-${t}`), o && (t = `Meta-${t}`), s && (t = `Shift-${t}`), t;\n}\nconst Hn = (r) => ({ editor: e, view: t, tr: n, dispatch: i }) => {\n  const s = Gn(r).split(/-(?!$)/), o = s.find((c) => ![\"Alt\", \"Ctrl\", \"Meta\", \"Shift\"].includes(c)), l = new KeyboardEvent(\"keydown\", {\n    key: o === \"Space\" ? \" \" : o,\n    altKey: s.includes(\"Alt\"),\n    ctrlKey: s.includes(\"Ctrl\"),\n    metaKey: s.includes(\"Meta\"),\n    shiftKey: s.includes(\"Shift\"),\n    bubbles: !0,\n    cancelable: !0\n  }), a = e.captureTransaction(() => {\n    t.someProp(\"handleKeyDown\", (c) => c(t, l));\n  });\n  return a == null || a.steps.forEach((c) => {\n    const f = c.map(n.mapping);\n    f && i && n.maybeStep(f);\n  }), !0;\n};\nfunction Ie(r, e, t = {}) {\n  const { from: n, to: i, empty: s } = r.selection, o = e ? b(e, r.schema) : null, l = [];\n  r.doc.nodesBetween(n, i, (u, h) => {\n    if (u.isText)\n      return;\n    const d = Math.max(n, h), m = Math.min(i, h + u.nodeSize);\n    l.push({\n      node: u,\n      from: d,\n      to: m\n    });\n  });\n  const a = i - n, c = l.filter((u) => o ? o.name === u.node.type.name : !0).filter((u) => oe(u.node.attrs, t, { strict: !1 }));\n  return s ? !!c.length : c.reduce((u, h) => u + h.to - h.from, 0) >= a;\n}\nconst Un = (r, e = {}) => ({ state: t, dispatch: n }) => {\n  const i = b(r, t.schema);\n  return Ie(t, i, e) ? Yt(t, n) : !1;\n}, Qn = () => ({ state: r, dispatch: e }) => tn(r, e), Xn = (r) => ({ state: e, dispatch: t }) => {\n  const n = b(r, e.schema);\n  return fn(n)(e, t);\n}, Yn = () => ({ state: r, dispatch: e }) => Zt(r, e);\nfunction vt(r, e) {\n  return e.nodes[r] ? \"node\" : e.marks[r] ? \"mark\" : null;\n}\nfunction Ke(r, e) {\n  const t = typeof e == \"string\" ? [e] : e;\n  return Object.keys(r).reduce((n, i) => (t.includes(i) || (n[i] = r[i]), n), {});\n}\nconst Zn = (r, e) => ({ tr: t, state: n, dispatch: i }) => {\n  let s = null, o = null;\n  const l = vt(typeof r == \"string\" ? r : r.name, n.schema);\n  return l ? (l === \"node\" && (s = b(r, n.schema)), l === \"mark\" && (o = B(r, n.schema)), i && t.selection.ranges.forEach((a) => {\n    n.doc.nodesBetween(a.$from.pos, a.$to.pos, (c, f) => {\n      s && s === c.type && t.setNodeMarkup(f, void 0, Ke(c.attrs, e)), o && c.marks.length && c.marks.forEach((u) => {\n        o === u.type && t.addMark(f, f + c.nodeSize, o.create(Ke(u.attrs, e)));\n      });\n    });\n  }), !0) : !1;\n}, _n = () => ({ tr: r, dispatch: e }) => (e && r.scrollIntoView(), !0), er = () => ({ tr: r, commands: e }) => e.setTextSelection({\n  from: 0,\n  to: r.doc.content.size\n}), tr = () => ({ state: r, dispatch: e }) => Ut(r, e), nr = () => ({ state: r, dispatch: e }) => Xt(r, e), rr = () => ({ state: r, dispatch: e }) => nn(r, e), ir = () => ({ state: r, dispatch: e }) => on(r, e), sr = () => ({ state: r, dispatch: e }) => sn(r, e);\nfunction or(r, e, t = {}) {\n  return le(r, e, { slice: !1, parseOptions: t });\n}\nconst lr = (r, e = !1, t = {}) => ({ tr: n, editor: i, dispatch: s }) => {\n  const { doc: o } = n, l = or(r, i.schema, t);\n  return s && n.replaceWith(0, o.content.size, l).setMeta(\"preventUpdate\", !e), !0;\n};\nfunction ar(r, e) {\n  const t = B(e, r.schema), { from: n, to: i, empty: s } = r.selection, o = [];\n  s ? (r.storedMarks && o.push(...r.storedMarks), o.push(...r.selection.$head.marks())) : r.doc.nodesBetween(n, i, (a) => {\n    o.push(...a.marks);\n  });\n  const l = o.find((a) => a.type.name === t.name);\n  return l ? { ...l.attrs } : {};\n}\nconst cr = (r, e = {}) => ({ tr: t, state: n, dispatch: i }) => {\n  const { selection: s } = t, { empty: o, ranges: l } = s, a = B(r, n.schema);\n  if (i)\n    if (o) {\n      const c = ar(n, a);\n      t.addStoredMark(a.create({\n        ...c,\n        ...e\n      }));\n    } else\n      l.forEach((c) => {\n        const f = c.$from.pos, u = c.$to.pos;\n        n.doc.nodesBetween(f, u, (h, d) => {\n          const m = Math.max(d, f), p = Math.min(d + h.nodeSize, u);\n          h.marks.find((x) => x.type === a) ? h.marks.forEach((x) => {\n            a === x.type && t.addMark(m, p, a.create({\n              ...x.attrs,\n              ...e\n            }));\n          }) : t.addMark(m, p, a.create(e));\n        });\n      });\n  return !0;\n}, fr = (r, e) => ({ tr: t }) => (t.setMeta(r, e), !0), ur = (r, e = {}) => ({ state: t, dispatch: n, chain: i }) => {\n  const s = b(r, t.schema);\n  return s.isTextblock ? i().command(({ commands: o }) => je(s, e)(t) ? !0 : o.clearNodes()).command(({ state: o }) => je(s, e)(o, n)).run() : (console.warn('[tiptap warn]: Currently \"setNode()\" only supports text block nodes.'), !1);\n}, hr = (r) => ({ tr: e, dispatch: t }) => {\n  if (t) {\n    const { doc: n } = e, i = k.atStart(n).from, s = k.atEnd(n).to, o = $(r, i, s), l = M.create(n, o);\n    e.setSelection(l);\n  }\n  return !0;\n}, dr = (r) => ({ tr: e, dispatch: t }) => {\n  if (t) {\n    const { doc: n } = e, { from: i, to: s } = typeof r == \"number\" ? { from: r, to: r } : r, o = S.atStart(n).from, l = S.atEnd(n).to, a = $(i, o, l), c = $(s, o, l), f = S.create(n, a, c);\n    e.setSelection(f);\n  }\n  return !0;\n}, pr = (r) => ({ state: e, dispatch: t }) => {\n  const n = b(r, e.schema);\n  return dn(n)(e, t);\n};\nfunction ne(r, e, t) {\n  return Object.fromEntries(Object.entries(t).filter(([n]) => {\n    const i = r.find((s) => s.type === e && s.name === n);\n    return i ? i.attribute.keepOnSplit : !1;\n  }));\n}\nfunction mr(r) {\n  for (let e = 0; e < r.edgeCount; e += 1) {\n    const { type: t } = r.edge(e);\n    if (t.isTextblock && !t.hasRequiredAttrs())\n      return t;\n  }\n  return null;\n}\nfunction Ge(r, e) {\n  const t = r.storedMarks || r.selection.$to.parentOffset && r.selection.$from.marks();\n  if (t) {\n    const n = t.filter((i) => e == null ? void 0 : e.includes(i.type.name));\n    r.tr.ensureMarks(n);\n  }\n}\nconst gr = ({ keepMarks: r = !0 } = {}) => ({ tr: e, state: t, dispatch: n, editor: i }) => {\n  const { selection: s, doc: o } = e, { $from: l, $to: a } = s, c = i.extensionManager.attributes, f = ne(c, l.node().type.name, l.node().attrs);\n  if (s instanceof M && s.node.isBlock)\n    return !l.parentOffset || !W(o, l.pos) ? !1 : (n && (r && Ge(t, i.extensionManager.splittableMarks), e.split(l.pos).scrollIntoView()), !0);\n  if (!l.parent.isBlock)\n    return !1;\n  if (n) {\n    const u = a.parentOffset === a.parent.content.size;\n    s instanceof S && e.deleteSelection();\n    const h = l.depth === 0 ? void 0 : mr(l.node(-1).contentMatchAt(l.indexAfter(-1)));\n    let d = u && h ? [{\n      type: h,\n      attrs: f\n    }] : void 0, m = W(e.doc, e.mapping.map(l.pos), 1, d);\n    if (!d && !m && W(e.doc, e.mapping.map(l.pos), 1, h ? [{ type: h }] : void 0) && (m = !0, d = h ? [{\n      type: h,\n      attrs: f\n    }] : void 0), m && (e.split(e.mapping.map(l.pos), 1, d), h && !u && !l.parentOffset && l.parent.type !== h)) {\n      const p = e.mapping.map(l.before()), w = e.doc.resolve(p);\n      l.node(-1).canReplaceWith(w.index(), w.index() + 1, h) && e.setNodeMarkup(e.mapping.map(l.before()), h);\n    }\n    r && Ge(t, i.extensionManager.splittableMarks), e.scrollIntoView();\n  }\n  return !0;\n}, yr = (r) => ({ tr: e, state: t, dispatch: n, editor: i }) => {\n  var s;\n  const o = b(r, t.schema), { $from: l, $to: a } = t.selection, c = t.selection.node;\n  if (c && c.isBlock || l.depth < 2 || !l.sameParent(a))\n    return !1;\n  const f = l.node(-1);\n  if (f.type !== o)\n    return !1;\n  const u = i.extensionManager.attributes;\n  if (l.parent.content.size === 0 && l.node(-1).childCount === l.indexAfter(-1)) {\n    if (l.depth === 2 || l.node(-3).type !== o || l.index(-2) !== l.node(-2).childCount - 1)\n      return !1;\n    if (n) {\n      let w = g.empty;\n      const x = l.index(-1) ? 1 : l.index(-2) ? 2 : 3;\n      for (let J = l.depth - x; J >= l.depth - 3; J -= 1)\n        w = g.from(l.node(J).copy(w));\n      const D = l.indexAfter(-1) < l.node(-2).childCount ? 1 : l.indexAfter(-2) < l.node(-3).childCount ? 2 : 3, Ne = ne(u, l.node().type.name, l.node().attrs), he = ((s = o.contentMatch.defaultType) === null || s === void 0 ? void 0 : s.createAndFill(Ne)) || void 0;\n      w = w.append(g.from(o.createAndFill(null, he) || void 0));\n      const ze = l.before(l.depth - (x - 1));\n      e.replace(ze, l.after(-D), new y(w, 4 - x, 0));\n      let Y = -1;\n      e.doc.nodesBetween(ze, e.doc.content.size, (J, Tt) => {\n        if (Y > -1)\n          return !1;\n        J.isTextblock && J.content.size === 0 && (Y = Tt + 1);\n      }), Y > -1 && e.setSelection(S.near(e.doc.resolve(Y))), e.scrollIntoView();\n    }\n    return !0;\n  }\n  const h = a.pos === l.end() ? f.contentMatchAt(0).defaultType : null, d = ne(u, f.type.name, f.attrs), m = ne(u, l.node().type.name, l.node().attrs);\n  e.delete(l.pos, a.pos);\n  const p = h ? [{ type: o, attrs: d }, { type: h, attrs: m }] : [{ type: o, attrs: d }];\n  return W(e.doc, l.pos, 2) ? (n && e.split(l.pos, 2, p).scrollIntoView(), !0) : !1;\n};\nfunction wr(r, e) {\n  for (let t = r.depth; t > 0; t -= 1) {\n    const n = r.node(t);\n    if (e(n))\n      return {\n        pos: t > 0 ? r.before(t) : 0,\n        start: r.start(t),\n        depth: t,\n        node: n\n      };\n  }\n}\nfunction Ae(r) {\n  return (e) => wr(e.$from, r);\n}\nfunction He(r, e) {\n  const { nodeExtensions: t } = mn(e), n = t.find((o) => o.name === r);\n  if (!n)\n    return !1;\n  const i = {\n    name: n.name,\n    options: n.options,\n    storage: n.storage\n  }, s = O(C(n, \"group\", i));\n  return typeof s != \"string\" ? !1 : s.split(\" \").includes(\"list\");\n}\nconst Ue = (r, e) => {\n  const t = Ae((o) => o.type === e)(r.selection);\n  if (!t)\n    return !0;\n  const n = r.doc.resolve(Math.max(0, t.pos - 1)).before(t.depth);\n  if (n === void 0)\n    return !0;\n  const i = r.doc.nodeAt(n);\n  return t.node.type === (i == null ? void 0 : i.type) && fe(r.doc, t.pos) && r.join(t.pos), !0;\n}, Qe = (r, e) => {\n  const t = Ae((o) => o.type === e)(r.selection);\n  if (!t)\n    return !0;\n  const n = r.doc.resolve(t.start).after(t.depth);\n  if (n === void 0)\n    return !0;\n  const i = r.doc.nodeAt(n);\n  return t.node.type === (i == null ? void 0 : i.type) && fe(r.doc, n) && r.join(n), !0;\n}, kr = (r, e) => ({ editor: t, tr: n, state: i, dispatch: s, chain: o, commands: l, can: a }) => {\n  const { extensions: c } = t.extensionManager, f = b(r, i.schema), u = b(e, i.schema), { selection: h } = i, { $from: d, $to: m } = h, p = d.blockRange(m);\n  if (!p)\n    return !1;\n  const w = Ae((x) => He(x.type.name, c))(h);\n  if (p.depth >= 1 && w && p.depth - w.depth <= 1) {\n    if (w.node.type === f)\n      return l.liftListItem(u);\n    if (He(w.node.type.name, c) && f.validContent(w.node.content) && s)\n      return o().command(() => (n.setNodeMarkup(w.pos, f), !0)).command(() => Ue(n, f)).command(() => Qe(n, f)).run();\n  }\n  return o().command(() => a().wrapInList(f) ? !0 : l.clearNodes()).wrapInList(f).command(() => Ue(n, f)).command(() => Qe(n, f)).run();\n};\nfunction xr(r, e, t = {}) {\n  const { empty: n, ranges: i } = r.selection, s = e ? B(e, r.schema) : null;\n  if (n)\n    return !!(r.storedMarks || r.selection.$from.marks()).filter((u) => s ? s.name === u.type.name : !0).find((u) => oe(u.attrs, t, { strict: !1 }));\n  let o = 0;\n  const l = [];\n  if (i.forEach(({ $from: u, $to: h }) => {\n    const d = u.pos, m = h.pos;\n    r.doc.nodesBetween(d, m, (p, w) => {\n      if (!p.isText && !p.marks.length)\n        return;\n      const x = Math.max(d, w), D = Math.min(m, w + p.nodeSize);\n      o += D - x, l.push(...p.marks.map((he) => ({\n        mark: he,\n        from: x,\n        to: D\n      })));\n    });\n  }), o === 0)\n    return !1;\n  const a = l.filter((u) => s ? s.name === u.mark.type.name : !0).filter((u) => oe(u.mark.attrs, t, { strict: !1 })).reduce((u, h) => u + h.to - h.from, 0), c = l.filter((u) => s ? u.mark.type !== s && u.mark.type.excludes(s) : !0).reduce((u, h) => u + h.to - h.from, 0);\n  return (a > 0 ? a + c : a) >= o;\n}\nconst Sr = (r, e = {}, t = {}) => ({ state: n, commands: i }) => {\n  const { extendEmptyMarkRange: s = !1 } = t, o = B(r, n.schema);\n  return xr(n, o, e) ? i.unsetMark(o, { extendEmptyMarkRange: s }) : i.setMark(o, e);\n}, Mr = (r, e, t = {}) => ({ state: n, commands: i }) => {\n  const s = b(r, n.schema), o = b(e, n.schema);\n  return Ie(n, s, t) ? i.setNode(o) : i.setNode(s, t);\n}, br = (r, e = {}) => ({ state: t, commands: n }) => {\n  const i = b(r, t.schema);\n  return Ie(t, i, e) ? n.lift(i) : n.wrapIn(i, e);\n}, vr = () => ({ state: r, dispatch: e }) => {\n  const t = r.plugins;\n  for (let n = 0; n < t.length; n += 1) {\n    const i = t[n];\n    let s;\n    if (i.spec.isInputRules && (s = i.getState(r))) {\n      if (e) {\n        const o = r.tr, l = s.transform;\n        for (let a = l.steps.length - 1; a >= 0; a -= 1)\n          o.step(l.steps[a].invert(l.docs[a]));\n        if (s.text) {\n          const a = o.doc.resolve(s.from).marks();\n          o.replaceWith(s.from, s.to, r.schema.text(s.text, a));\n        } else\n          o.delete(s.from, s.to);\n      }\n      return !0;\n    }\n  }\n  return !1;\n}, Cr = () => ({ tr: r, dispatch: e }) => {\n  const { selection: t } = r, { empty: n, ranges: i } = t;\n  return n || e && i.forEach((s) => {\n    r.removeMark(s.$from.pos, s.$to.pos);\n  }), !0;\n}, Er = (r, e = {}) => ({ tr: t, state: n, dispatch: i }) => {\n  var s;\n  const { extendEmptyMarkRange: o = !1 } = e, { selection: l } = t, a = B(r, n.schema), { $from: c, empty: f, ranges: u } = l;\n  if (!i)\n    return !0;\n  if (f && o) {\n    let { from: h, to: d } = l;\n    const m = (s = c.marks().find((w) => w.type === a)) === null || s === void 0 ? void 0 : s.attrs, p = Mt(c, a, m);\n    p && (h = p.from, d = p.to), t.removeMark(h, d, a);\n  } else\n    u.forEach((h) => {\n      t.removeMark(h.$from.pos, h.$to.pos, a);\n    });\n  return t.removeStoredMark(a), !0;\n}, Tr = (r, e = {}) => ({ tr: t, state: n, dispatch: i }) => {\n  let s = null, o = null;\n  const l = vt(typeof r == \"string\" ? r : r.name, n.schema);\n  return l ? (l === \"node\" && (s = b(r, n.schema)), l === \"mark\" && (o = B(r, n.schema)), i && t.selection.ranges.forEach((a) => {\n    const c = a.$from.pos, f = a.$to.pos;\n    n.doc.nodesBetween(c, f, (u, h) => {\n      s && s === u.type && t.setNodeMarkup(h, void 0, {\n        ...u.attrs,\n        ...e\n      }), o && u.marks.length && u.marks.forEach((d) => {\n        if (o === d.type) {\n          const m = Math.max(h, c), p = Math.min(h + u.nodeSize, f);\n          t.addMark(m, p, o.create({\n            ...d.attrs,\n            ...e\n          }));\n        }\n      });\n    });\n  }), !0) : !1;\n}, Ir = (r, e = {}) => ({ state: t, dispatch: n }) => {\n  const i = b(r, t.schema);\n  return ln(i, e)(t, n);\n}, Ar = (r, e = {}) => ({ state: t, dispatch: n }) => {\n  const i = b(r, t.schema);\n  return an(i, e)(t, n);\n};\nvar Or = /* @__PURE__ */ Object.freeze({\n  __proto__: null,\n  blur: Sn,\n  clearContent: Mn,\n  clearNodes: bn,\n  command: vn,\n  createParagraphNear: Cn,\n  deleteNode: En,\n  deleteRange: Tn,\n  deleteSelection: In,\n  enter: An,\n  exitCode: On,\n  extendMarkRange: zn,\n  first: Rn,\n  focus: Dn,\n  forEach: Jn,\n  insertContent: Ln,\n  insertContentAt: jn,\n  joinBackward: qn,\n  joinForward: Kn,\n  keyboardShortcut: Hn,\n  lift: Un,\n  liftEmptyBlock: Qn,\n  liftListItem: Xn,\n  newlineInCode: Yn,\n  resetAttributes: Zn,\n  scrollIntoView: _n,\n  selectAll: er,\n  selectNodeBackward: tr,\n  selectNodeForward: nr,\n  selectParentNode: rr,\n  selectTextblockEnd: ir,\n  selectTextblockStart: sr,\n  setContent: lr,\n  setMark: cr,\n  setMeta: fr,\n  setNode: ur,\n  setNodeSelection: hr,\n  setTextSelection: dr,\n  sinkListItem: pr,\n  splitBlock: gr,\n  splitListItem: yr,\n  toggleList: kr,\n  toggleMark: Sr,\n  toggleNode: Mr,\n  toggleWrap: br,\n  undoInputRule: vr,\n  unsetAllMarks: Cr,\n  unsetMark: Er,\n  updateAttributes: Tr,\n  wrapIn: Ir,\n  wrapInList: Ar\n});\nz.create({\n  name: \"commands\",\n  addCommands() {\n    return {\n      ...Or\n    };\n  }\n});\nz.create({\n  name: \"editable\",\n  addProseMirrorPlugins() {\n    return [\n      new Q({\n        key: new X(\"editable\"),\n        props: {\n          editable: () => this.editor.options.editable\n        }\n      })\n    ];\n  }\n});\nz.create({\n  name: \"focusEvents\",\n  addProseMirrorPlugins() {\n    const { editor: r } = this;\n    return [\n      new Q({\n        key: new X(\"focusEvents\"),\n        props: {\n          handleDOMEvents: {\n            focus: (e, t) => {\n              r.isFocused = !0;\n              const n = r.state.tr.setMeta(\"focus\", { event: t }).setMeta(\"addToHistory\", !1);\n              return e.dispatch(n), !1;\n            },\n            blur: (e, t) => {\n              r.isFocused = !1;\n              const n = r.state.tr.setMeta(\"blur\", { event: t }).setMeta(\"addToHistory\", !1);\n              return e.dispatch(n), !1;\n            }\n          }\n        }\n      })\n    ];\n  }\n});\nz.create({\n  name: \"keymap\",\n  addKeyboardShortcuts() {\n    const r = () => this.editor.commands.first(({ commands: o }) => [\n      () => o.undoInputRule(),\n      () => o.command(({ tr: l }) => {\n        const { selection: a, doc: c } = l, { empty: f, $anchor: u } = a, { pos: h, parent: d } = u, m = k.atStart(c).from === h;\n        return !f || !m || !d.type.isTextblock || d.textContent.length ? !1 : o.clearNodes();\n      }),\n      () => o.deleteSelection(),\n      () => o.joinBackward(),\n      () => o.selectNodeBackward()\n    ]), e = () => this.editor.commands.first(({ commands: o }) => [\n      () => o.deleteSelection(),\n      () => o.joinForward(),\n      () => o.selectNodeForward()\n    ]), n = {\n      Enter: () => this.editor.commands.first(({ commands: o }) => [\n        () => o.newlineInCode(),\n        () => o.createParagraphNear(),\n        () => o.liftEmptyBlock(),\n        () => o.splitBlock()\n      ]),\n      \"Mod-Enter\": () => this.editor.commands.exitCode(),\n      Backspace: r,\n      \"Mod-Backspace\": r,\n      \"Shift-Backspace\": r,\n      Delete: e,\n      \"Mod-Delete\": e,\n      \"Mod-a\": () => this.editor.commands.selectAll()\n    }, i = {\n      ...n\n    }, s = {\n      ...n,\n      \"Ctrl-h\": r,\n      \"Alt-Backspace\": r,\n      \"Ctrl-d\": e,\n      \"Ctrl-Alt-Backspace\": e,\n      \"Alt-Delete\": e,\n      \"Alt-d\": e,\n      \"Ctrl-a\": () => this.editor.commands.selectTextblockStart(),\n      \"Ctrl-e\": () => this.editor.commands.selectTextblockEnd()\n    };\n    return Te() || bt() ? s : i;\n  },\n  addProseMirrorPlugins() {\n    return [\n      new Q({\n        key: new X(\"clearDocument\"),\n        appendTransaction: (r, e, t) => {\n          if (!(r.some((m) => m.docChanged) && !e.doc.eq(t.doc)))\n            return;\n          const { empty: i, from: s, to: o } = e.selection, l = k.atStart(e.doc).from, a = k.atEnd(e.doc).to, c = s === l && o === a, f = t.doc.textBetween(0, t.doc.content.size, \" \", \" \").length === 0;\n          if (i || !c || !f)\n            return;\n          const u = t.tr, h = xt({\n            state: t,\n            transaction: u\n          }), { commands: d } = new pn({\n            editor: this.editor,\n            state: h\n          });\n          if (d.clearNodes(), !!u.steps.length)\n            return u;\n        }\n      })\n    ];\n  }\n});\nz.create({\n  name: \"tabindex\",\n  addProseMirrorPlugins() {\n    return [\n      new Q({\n        key: new X(\"tabindex\"),\n        props: {\n          attributes: this.editor.isEditable ? { tabindex: \"0\" } : {}\n        }\n      })\n    ];\n  }\n});\nclass j {\n  constructor(e = {}) {\n    this.type = \"node\", this.name = \"node\", this.parent = null, this.child = null, this.config = {\n      name: this.name,\n      defaultOptions: {}\n    }, this.config = {\n      ...this.config,\n      ...e\n    }, this.name = this.config.name, e.defaultOptions && console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`), this.options = this.config.defaultOptions, this.config.addOptions && (this.options = O(C(this, \"addOptions\", {\n      name: this.name\n    }))), this.storage = O(C(this, \"addStorage\", {\n      name: this.name,\n      options: this.options\n    })) || {};\n  }\n  static create(e = {}) {\n    return new j(e);\n  }\n  configure(e = {}) {\n    const t = this.extend();\n    return t.options = Ee(this.options, e), t.storage = O(C(t, \"addStorage\", {\n      name: t.name,\n      options: t.options\n    })), t;\n  }\n  extend(e = {}) {\n    const t = new j(e);\n    return t.parent = this, this.child = t, t.name = e.name ? e.name : t.parent.name, e.defaultOptions && console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${t.name}\".`), t.options = O(C(t, \"addOptions\", {\n      name: t.name\n    })), t.storage = O(C(t, \"addStorage\", {\n      name: t.name,\n      options: t.options\n    })), t;\n  }\n}\nconst ae = j.create({\n  name: \"column\",\n  group: \"column\",\n  content: \"(paragraph|block)*\",\n  isolating: !0,\n  selectable: !1,\n  renderHTML({\n    HTMLAttributes: r\n  }) {\n    const e = St(r, {\n      class: \"column\"\n    });\n    return [\"div\", e, 0];\n  }\n}), Nr = (r, e) => Array.from({ length: r }, (t, n) => e(n)), Oe = ({ type: r, content: e }) => e ? { type: r, content: e } : { type: r }, zr = ({ content: r }) => Oe({ type: \"paragraph\", content: r }), Ct = ({ content: r }) => Oe({ type: \"column\", content: r }), Xe = ({ content: r }) => Oe({ type: \"columnBlock\", content: r }), Ye = (r) => {\n  const e = [zr({})];\n  return Nr(r, () => Ct({ content: e }));\n}, Ze = (r, e) => {\n  for (let t = r.depth; t > 0; t--) {\n    const n = r.node(t), i = t > 0 ? r.before(t) : 0, s = r.start(t);\n    if (e({ node: n, pos: i, start: s }))\n      return n.resolve(s);\n  }\n  throw Error(\"no ancestor found\");\n};\nclass ce extends k {\n  constructor(e) {\n    const {\n      $from: t,\n      $to: n\n    } = e;\n    super(t, n), this._$from = t, this._$to = n;\n  }\n  get $from() {\n    return this._$from;\n  }\n  get $to() {\n    return this._$to;\n  }\n  map() {\n    return this;\n  }\n  content() {\n    return this.$from.doc.slice(this.from, this.to, !0);\n  }\n  eq(e) {\n    return e instanceof ce && e.anchor == this.anchor;\n  }\n  toJSON() {\n    return {\n      type: \"column\",\n      from: this.from,\n      to: this.to\n    };\n  }\n  expandSelection() {\n    var n;\n    const {\n      doc: e\n    } = this.$from, t = ({\n      pos: i,\n      node: s\n    }) => s.type.name === ae.name ? !0 : e.resolve(i).depth <= 0;\n    this._$from = Ze(this.$from, t), this._$to = Ze(this.$to, t), ((n = this.getFirstNode()) == null ? void 0 : n.type.name) === Et.name && (this._$from = e.resolve(this.$from.pos + 2), this._$to = e.resolve(this.$to.pos + 2));\n  }\n  static create(e, t, n) {\n    const i = e.resolve(t), s = e.resolve(n), o = new S(i, s);\n    return new ce(o);\n  }\n  getFirstNode() {\n    return this.content().content.firstChild;\n  }\n}\nconst Et = j.create({\n  name: \"columnBlock\",\n  group: \"block\",\n  content: \"column{2,}\",\n  isolating: !0,\n  selectable: !0,\n  addOptions() {\n    return {\n      nestedColumns: !0,\n      columnType: ae\n    };\n  },\n  renderHTML({\n    HTMLAttributes: r\n  }) {\n    const e = St(r, {\n      class: \"column-block\"\n    });\n    return [\"div\", e, 0];\n  },\n  addCommands() {\n    return {\n      unsetColumns: () => ({\n        state: t,\n        tr: n,\n        dispatch: i\n      }) => {\n        try {\n          return i ? i(n) : void 0;\n        } catch (s) {\n          console.error(s);\n        }\n      },\n      setColumns: (t, n = !0) => ({\n        state: i,\n        tr: s,\n        dispatch: o\n      }) => {\n        try {\n          const {\n            schema: l,\n            doc: a\n          } = i;\n          if (!o)\n            return;\n          const c = new ce(i.selection);\n          s = s.setSelection(c);\n          return;\n        } catch (l) {\n          console.error(l);\n        }\n      }\n    };\n  }\n}), Rr = j.create({\n  name: \"doc\",\n  topNode: !0,\n  content: \"(block|layout)+\"\n}), Br = z.create({\n  name: \"columnExtension\",\n  addExtensions() {\n    const r = [];\n    return this.options.column !== !1 && r.push(ae), this.options.columnBlock !== !1 && r.push(Et), r;\n  }\n});\nexport {\n  ae as Column,\n  Et as ColumnBlock,\n  Br as ColumnExtension,\n  Rr as Document,\n  Br as default\n};\n","import React from \"react\";\r\nimport { Content } from \"@tiptap/core\";\r\nimport { useEditor, EditorContent } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport { Toolbar } from \"./Toolbar\";\r\nimport { Popover } from \"./Popover\";\r\nimport ColumnExtension from \"@gocapsule/column-extension\";\r\nimport \"@gocapsule/column-extension/src/index.css\";\r\nimport \"./RichTextEditor.scss\";\r\n\r\ntype RichTextEditorProps = {\r\n  content?: Content;\r\n  editable?: boolean;\r\n};\r\n\r\nfunction RichTextEditor({ content = \"\", editable = true }: RichTextEditorProps) {\r\n  const editor = useEditor({\r\n    content,\r\n    extensions: [\r\n      StarterKit,\r\n      ColumnExtension,\r\n    ],\r\n    editable,\r\n  });\r\n\r\n  if (!editor) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"WhiteCard\">\r\n        <Toolbar editor={editor} />\r\n        <Popover editor={editor} />\r\n        <EditorContent editor={editor} />\r\n      </div>\r\n      <h2>Text</h2>\r\n      <div className=\"WhiteCard\">\r\n        <pre>{editor.getText()}</pre>\r\n      </div>\r\n      <h2>JSON</h2>\r\n      <div className=\"WhiteCard\">\r\n        <pre>{JSON.stringify(editor.getJSON())}</pre>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport { RichTextEditor };\r\n","import React from \"react\";\nimport { render } from \"react-dom\";\n\nimport { RichTextEditor } from \"./components\";\n\nimport { BASIC_CONTENT } from \"./data\";\n\nimport \"./index.scss\";\n\nrender(\n  <div id=\"Wrapper\">\n    <RichTextEditor\n      content={BASIC_CONTENT}\n    />\n  </div>,\n  document.getElementById(\"root\")\n);\n","export const BASIC_CONTENT = {\r\n  type: \"doc\",\r\n  content: [\r\n    {\r\n      type: \"heading\",\r\n      attrs: { level: 2 },\r\n      content: [{ type: \"text\", text: \"Hi there,\" }]\r\n    },\r\n    {\r\n      type: \"paragraph\",\r\n      content: [\r\n        { type: \"text\", text: \"This is a \" },\r\n        { type: \"text\", marks: [{ type: \"italic\" }], text: \"basic\" },\r\n        { type: \"text\", text: \" example of \" },\r\n        { type: \"text\", marks: [{ type: \"bold\" }], text: \"tiptap\" },\r\n        {\r\n          type: \"text\",\r\n          text:\r\n            \". Sure, there are all kind of basic text styles you’d probably expect from a text editor. But wait until you see the lists:\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      type: \"bulletList\",\r\n      content: [\r\n        {\r\n          type: \"listItem\",\r\n          content: [\r\n            {\r\n              type: \"paragraph\",\r\n              content: [\r\n                { type: \"text\", text: \"That’s a bullet list with one …\" }\r\n              ]\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: \"listItem\",\r\n          content: [\r\n            {\r\n              type: \"paragraph\",\r\n              content: [{ type: \"text\", text: \"… or two list items.\" }]\r\n            },\r\n            {\r\n              type: \"bulletList\",\r\n              content: [\r\n                {\r\n                  type: \"listItem\",\r\n                  content: [\r\n                    {\r\n                      type: \"paragraph\",\r\n                      content: [{ type: \"text\", text: \"Sub-item 1\" }]\r\n                    }\r\n                  ]\r\n                },\r\n                {\r\n                  type: \"listItem\",\r\n                  content: [\r\n                    {\r\n                      type: \"paragraph\",\r\n                      content: [{ type: \"text\", text: \"Sub-item 2\" }]\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      type: \"blockquote\",\r\n      content: [\r\n        {\r\n          type: \"paragraph\",\r\n          content: [\r\n            { type: \"text\", text: \"Wow, that’s amazing. Good work, boy! \" },\r\n            { type: \"hardBreak\" },\r\n            { type: \"text\", text: \"— Mom\" }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    { type: \"paragraph\" },\r\n    {\r\n      type: \"columnBlock\",\r\n      content: [\r\n        {\r\n          type: \"column\",\r\n          content: [\r\n            { type: \"paragraph\", content: [{ type: \"text\", text: \"First column\" }] },\r\n            { type: \"paragraph\", content: [{ type: \"text\", text: \"with 2 paragraphs\" }] },\r\n            {\r\n              type: \"bulletList\",\r\n              content: [\r\n                {\r\n                  type: \"listItem\",\r\n                  content: [\r\n                    {\r\n                      type: \"paragraph\",\r\n                      content: [\r\n                        { type: \"text\", text: \"And even a list…\" }\r\n                      ]\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: \"column\",\r\n          content: [\r\n            { type: \"paragraph\", content: [{ type: \"text\", text: \"Second column\" }] }\r\n          ]\r\n        },\r\n        {\r\n          type: \"column\",\r\n          content: [\r\n            { type: \"paragraph\", content: [{ type: \"text\", text: \"Third columns\" }] }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n};\r\n"],"sourceRoot":""}